{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"containerStyle\", \"source\", \"loader\", \"style\", \"testID\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"../../components/image\";\nimport { BaseComponent } from \"../../commons\";\nvar UIAnimatedImage = Animated.createAnimatedComponent(Image);\n\nvar AnimatedImage = function (_BaseComponent) {\n  _inherits(AnimatedImage, _BaseComponent);\n\n  var _super = _createSuper(AnimatedImage);\n\n  function AnimatedImage(props) {\n    var _this;\n\n    _classCallCheck(this, AnimatedImage);\n\n    _this = _super.call(this, props);\n\n    _this.onLoad = function () {\n      _this.setState({\n        isLoading: false\n      }, function () {\n        var animationParams = {\n          toValue: 1,\n          duration: _this.props.animationDuration,\n          useNativeDriver: true\n        };\n        Animated.timing(_this.state.opacity, animationParams).start();\n      });\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _.invoke.apply(_, [_this.props, 'onLoad'].concat(args));\n    };\n\n    _this.state = {\n      opacity: new Animated.Value(0),\n      isLoading: true\n    };\n    return _this;\n  }\n\n  _createClass(AnimatedImage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          containerStyle = _this$props.containerStyle,\n          source = _this$props.source,\n          loader = _this$props.loader,\n          style = _this$props.style,\n          testID = _this$props.testID,\n          others = _objectWithoutProperties(_this$props, _excluded);\n\n      return React.createElement(View, {\n        style: containerStyle\n      }, React.createElement(UIAnimatedImage, _extends({}, others, {\n        style: [{\n          opacity: this.state.opacity\n        }, style],\n        source: source,\n        onLoad: this.onLoad,\n        testID: testID\n      })), this.state.isLoading && loader && React.createElement(View, {\n        style: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n          justifyContent: 'center'\n        })\n      }, loader));\n    }\n  }]);\n\n  return AnimatedImage;\n}(BaseComponent);\n\nAnimatedImage.displayName = 'AnimatedImage';\nAnimatedImage.propTypes = _objectSpread(_objectSpread({}, Image.propTypes), {}, {\n  containerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n  animationDuration: PropTypes.number,\n  loader: PropTypes.element\n});\nAnimatedImage.defaultProps = {\n  animationDuration: 300\n};\nexport default AnimatedImage;","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Ãrea de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/components/animatedImage/index.js"],"names":["_","PropTypes","React","Image","BaseComponent","UIAnimatedImage","Animated","createAnimatedComponent","AnimatedImage","props","onLoad","setState","isLoading","animationParams","toValue","duration","animationDuration","useNativeDriver","timing","state","opacity","start","args","invoke","Value","containerStyle","source","loader","style","testID","others","StyleSheet","absoluteFillObject","justifyContent","displayName","propTypes","oneOfType","object","number","element","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;AACA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,OAAOC,KAAP;AACA,SAAQC,aAAR;AAEA,IAAMC,eAAe,GAAGC,QAAQ,CAACC,uBAAT,CAAiCJ,KAAjC,CAAxB;;IAQMK,a;;;;;AAyBJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAKnBC,MALmB,GAKV,YAAa;AACpB,YAAKC,QAAL,CAAc;AAACC,QAAAA,SAAS,EAAE;AAAZ,OAAd,EAAkC,YAAM;AACtC,YAAMC,eAAe,GAAG;AAACC,UAAAA,OAAO,EAAE,CAAV;AAAaC,UAAAA,QAAQ,EAAE,MAAKN,KAAL,CAAWO,iBAAlC;AAAqDC,UAAAA,eAAe,EAAE;AAAtE,SAAxB;AACAX,QAAAA,QAAQ,CAACY,MAAT,CAAgB,MAAKC,KAAL,CAAWC,OAA3B,EAAoCP,eAApC,EAAqDQ,KAArD;AACD,OAHD;;AADoB,wCAATC,IAAS;AAATA,QAAAA,IAAS;AAAA;;AAKpBtB,MAAAA,CAAC,CAACuB,MAAF,OAAAvB,CAAC,GAAQ,MAAKS,KAAb,EAAoB,QAApB,SAAiCa,IAAjC,EAAD;AACD,KAXkB;;AAEjB,UAAKH,KAAL,GAAa;AAACC,MAAAA,OAAO,EAAE,IAAId,QAAQ,CAACkB,KAAb,CAAmB,CAAnB,CAAV;AAAiCZ,MAAAA,SAAS,EAAE;AAA5C,KAAb;AAFiB;AAGlB;;;;WAUD,kBAAS;AACP,wBAAmE,KAAKH,KAAxE;AAAA,UAAOgB,cAAP,eAAOA,cAAP;AAAA,UAAuBC,MAAvB,eAAuBA,MAAvB;AAAA,UAA+BC,MAA/B,eAA+BA,MAA/B;AAAA,UAAuCC,KAAvC,eAAuCA,KAAvC;AAAA,UAA8CC,MAA9C,eAA8CA,MAA9C;AAAA,UAAyDC,MAAzD;;AACA,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEL;AAAb,SACE,oBAAC,eAAD,eACMK,MADN;AAEE,QAAA,KAAK,EAAE,CAAC;AAACV,UAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC;AAArB,SAAD,EAAgCQ,KAAhC,CAFT;AAGE,QAAA,MAAM,EAAEF,MAHV;AAIE,QAAA,MAAM,EAAE,KAAKhB,MAJf;AAKE,QAAA,MAAM,EAAEmB;AALV,SADF,EAQG,KAAKV,KAAL,CAAWP,SAAX,IAAwBe,MAAxB,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,kCAAMI,UAAU,CAACC,kBAAjB;AAAqCC,UAAAA,cAAc,EAAE;AAArD;AAAX,SAA4EN,MAA5E,CATJ,CADF;AAcD;;;;EAtDyBvB,a;;AAAtBI,a,CACG0B,W,GAAc,e;AADjB1B,a,CAEG2B,S,mCAIFhC,KAAK,CAACgC,S;AAITV,EAAAA,cAAc,EAAExB,SAAS,CAACmC,SAAV,CAAoB,CAACnC,SAAS,CAACoC,MAAX,EAAmBpC,SAAS,CAACqC,MAA7B,CAApB,C;AAIhBtB,EAAAA,iBAAiB,EAAEf,SAAS,CAACqC,M;AAI7BX,EAAAA,MAAM,EAAE1B,SAAS,CAACsC;;AAlBhB/B,a,CAqBGgC,Y,GAAe;AACpBxB,EAAAA,iBAAiB,EAAE;AADC,C;AAoCxB,eAAeR,aAAf","sourcesContent":["// TODO: consider unify this component functionality with our Image component\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Animated, View, StyleSheet} from 'react-native';\nimport Image from '../../components/image';\nimport {BaseComponent} from '../../commons';\n\nconst UIAnimatedImage = Animated.createAnimatedComponent(Image);\n\n/**\n * @description: Image component that fades-in the image with animation once it's loaded\n * @extends: Animated.Image\n * @gif: https://media.giphy.com/media/l0HU7jj0ivEFyZIA0/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/AnimatedImageScreen.js\n */\nclass AnimatedImage extends BaseComponent {\n  static displayName = 'AnimatedImage';\n  static propTypes = {\n    /**\n     * Image prop Types\n     */\n    ...Image.propTypes,\n    /**\n     * Additional spacing styles for the container\n     */\n    containerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * Duration for the fade animation when the image is loaded\n     */\n    animationDuration: PropTypes.number,\n    /**\n     * A component to render while the image is loading\n     */\n    loader: PropTypes.element\n  };\n\n  static defaultProps = {\n    animationDuration: 300\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {opacity: new Animated.Value(0), isLoading: true};\n  }\n\n  onLoad = (...args) => {\n    this.setState({isLoading: false}, () => {\n      const animationParams = {toValue: 1, duration: this.props.animationDuration, useNativeDriver: true};\n      Animated.timing(this.state.opacity, animationParams).start();\n    });\n    _.invoke(this.props, 'onLoad', ...args);\n  };\n\n  render() {\n    const {containerStyle, source, loader, style, testID, ...others} = this.props;\n    return (\n      <View style={containerStyle}>\n        <UIAnimatedImage\n          {...others}\n          style={[{opacity: this.state.opacity}, style]}\n          source={source}\n          onLoad={this.onLoad}\n          testID={testID}\n        />\n        {this.state.isLoading && loader && (\n          <View style={{...StyleSheet.absoluteFillObject, justifyContent: 'center'}}>{loader}</View>\n        )}\n      </View>\n    );\n  }\n}\n\nexport default AnimatedImage;\n"]},"metadata":{},"sourceType":"module"}