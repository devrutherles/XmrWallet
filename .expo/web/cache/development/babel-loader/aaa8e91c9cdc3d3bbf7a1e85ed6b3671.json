{"ast":null,"code":"import React, { useRef } from 'react';\nimport _ from 'lodash';\nimport useMiddleIndex from \"./helpers/useListMiddleIndex\";\n\nvar usePresenter = function usePresenter(_ref) {\n  var initialValue = _ref.initialValue,\n      selectedValue = _ref.selectedValue,\n      children = _ref.children,\n      propItems = _ref.items,\n      itemHeight = _ref.itemHeight,\n      preferredNumVisibleRows = _ref.preferredNumVisibleRows;\n  var value = !_.isUndefined(selectedValue) ? selectedValue : initialValue;\n\n  var extractItemsFromChildren = function extractItemsFromChildren() {\n    var items = React.Children.map(children, function (child) {\n      var childAsType = {\n        value: child == null ? void 0 : child.props.value,\n        label: child == null ? void 0 : child.props.label\n      };\n      return childAsType;\n    });\n    return items || [];\n  };\n\n  var items = useRef(children ? extractItemsFromChildren() : propItems).current;\n  var middleIndex = useMiddleIndex({\n    itemHeight: itemHeight,\n    listSize: items.length\n  });\n\n  var getSelectedValueIndex = function getSelectedValueIndex() {\n    if (_.isString(value) || _.isNumber(value)) {\n      return _.findIndex(items, {\n        value: value\n      });\n    }\n\n    return _.findIndex(items, {\n      value: value == null ? void 0 : value.value\n    });\n  };\n\n  var shouldControlComponent = function shouldControlComponent(offset) {\n    if (!_.isUndefined(selectedValue)) {\n      return offset >= 0 && selectedValue !== getRowItemAtOffset(offset).value;\n    }\n\n    return false;\n  };\n\n  var getRowItemAtOffset = function getRowItemAtOffset(offset) {\n    var index = middleIndex(offset);\n    var value = items[index].value;\n    return {\n      index: index,\n      value: value\n    };\n  };\n\n  return {\n    shouldControlComponent: shouldControlComponent,\n    index: getSelectedValueIndex(),\n    items: items,\n    height: itemHeight * preferredNumVisibleRows,\n    getRowItemAtOffset: getRowItemAtOffset\n  };\n};\n\nexport default usePresenter;","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Ãrea de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/incubator/WheelPicker/usePresenter.js"],"names":["React","useRef","_","useMiddleIndex","usePresenter","initialValue","selectedValue","children","propItems","items","itemHeight","preferredNumVisibleRows","value","isUndefined","extractItemsFromChildren","Children","map","child","childAsType","props","label","current","middleIndex","listSize","length","getSelectedValueIndex","isString","isNumber","findIndex","shouldControlComponent","offset","getRowItemAtOffset","index","height"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,cAAP;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAOf;AAAA,MANJC,YAMI,QANJA,YAMI;AAAA,MALJC,aAKI,QALJA,aAKI;AAAA,MAJJC,QAII,QAJJA,QAII;AAAA,MAHGC,SAGH,QAHJC,KAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADJC,uBACI,QADJA,uBACI;AACJ,MAAMC,KAAK,GAAG,CAACV,CAAC,CAACW,WAAF,CAAcP,aAAd,CAAD,GAAgCA,aAAhC,GAAgDD,YAA9D;;AAEA,MAAMS,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AACrC,QAAML,KAAK,GAAGT,KAAK,CAACe,QAAN,CAAeC,GAAf,CAAmBT,QAAnB,EAA6B,UAAAU,KAAK,EAAI;AAClD,UAAMC,WAAW,GAAG;AAClBN,QAAAA,KAAK,EAAEK,KAAF,oBAAEA,KAAK,CAAEE,KAAP,CAAaP,KADF;AAElBQ,QAAAA,KAAK,EAAEH,KAAF,oBAAEA,KAAK,CAAEE,KAAP,CAAaC;AAFF,OAApB;AAIA,aAAOF,WAAP;AACD,KANa,CAAd;AAOA,WAAOT,KAAK,IAAI,EAAhB;AACD,GATD;;AAWA,MAAMA,KAAK,GAAGR,MAAM,CAACM,QAAQ,GAAGO,wBAAwB,EAA3B,GAAgCN,SAAzC,CAAN,CAA0Da,OAAxE;AACA,MAAMC,WAAW,GAAGnB,cAAc,CAAC;AACjCO,IAAAA,UAAU,EAAVA,UADiC;AAEjCa,IAAAA,QAAQ,EAAEd,KAAK,CAACe;AAFiB,GAAD,CAAlC;;AAKA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,QAAIvB,CAAC,CAACwB,QAAF,CAAWd,KAAX,KAAqBV,CAAC,CAACyB,QAAF,CAAWf,KAAX,CAAzB,EAA4C;AAC1C,aAAOV,CAAC,CAAC0B,SAAF,CAAYnB,KAAZ,EAAmB;AACxBG,QAAAA,KAAK,EAALA;AADwB,OAAnB,CAAP;AAGD;;AAED,WAAOV,CAAC,CAAC0B,SAAF,CAAYnB,KAAZ,EAAmB;AACxBG,MAAAA,KAAK,EAAEA,KAAF,oBAAEA,KAAK,CAAEA;AADU,KAAnB,CAAP;AAGD,GAVD;;AAYA,MAAMiB,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAC,MAAM,EAAI;AACvC,QAAI,CAAC5B,CAAC,CAACW,WAAF,CAAcP,aAAd,CAAL,EAAmC;AACjC,aAAOwB,MAAM,IAAI,CAAV,IAAexB,aAAa,KAAKyB,kBAAkB,CAACD,MAAD,CAAlB,CAA2BlB,KAAnE;AACD;;AAED,WAAO,KAAP;AACD,GAND;;AAQA,MAAMmB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAD,MAAM,EAAI;AACnC,QAAME,KAAK,GAAGV,WAAW,CAACQ,MAAD,CAAzB;AACA,QAAMlB,KAAK,GAAGH,KAAK,CAACuB,KAAD,CAAL,CAAapB,KAA3B;AACA,WAAO;AACLoB,MAAAA,KAAK,EAALA,KADK;AAELpB,MAAAA,KAAK,EAALA;AAFK,KAAP;AAID,GAPD;;AASA,SAAO;AACLiB,IAAAA,sBAAsB,EAAtBA,sBADK;AAELG,IAAAA,KAAK,EAAEP,qBAAqB,EAFvB;AAGLhB,IAAAA,KAAK,EAALA,KAHK;AAILwB,IAAAA,MAAM,EAAEvB,UAAU,GAAGC,uBAJhB;AAKLoB,IAAAA,kBAAkB,EAAlBA;AALK,GAAP;AAOD,CA/DD;;AAiEA,eAAe3B,YAAf","sourcesContent":["import React, { useRef } from 'react';\nimport _ from 'lodash';\nimport useMiddleIndex from \"./helpers/useListMiddleIndex\";\n\nconst usePresenter = ({\n  initialValue,\n  selectedValue,\n  children,\n  items: propItems,\n  itemHeight,\n  preferredNumVisibleRows\n}) => {\n  const value = !_.isUndefined(selectedValue) ? selectedValue : initialValue;\n\n  const extractItemsFromChildren = () => {\n    const items = React.Children.map(children, child => {\n      const childAsType = {\n        value: child?.props.value,\n        label: child?.props.label\n      };\n      return childAsType;\n    });\n    return items || [];\n  };\n\n  const items = useRef(children ? extractItemsFromChildren() : propItems).current;\n  const middleIndex = useMiddleIndex({\n    itemHeight,\n    listSize: items.length\n  });\n\n  const getSelectedValueIndex = () => {\n    if (_.isString(value) || _.isNumber(value)) {\n      return _.findIndex(items, {\n        value\n      });\n    }\n\n    return _.findIndex(items, {\n      value: value?.value\n    });\n  };\n\n  const shouldControlComponent = offset => {\n    if (!_.isUndefined(selectedValue)) {\n      return offset >= 0 && selectedValue !== getRowItemAtOffset(offset).value;\n    }\n\n    return false;\n  };\n\n  const getRowItemAtOffset = offset => {\n    const index = middleIndex(offset);\n    const value = items[index].value;\n    return {\n      index,\n      value\n    };\n  };\n\n  return {\n    shouldControlComponent,\n    index: getSelectedValueIndex(),\n    items,\n    height: itemHeight * preferredNumVisibleRows,\n    getRowItemAtOffset\n  };\n};\n\nexport default usePresenter;"]},"metadata":{},"sourceType":"module"}