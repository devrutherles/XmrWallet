{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _pt from \"prop-types\";\nimport _ from 'lodash';\nimport React, { PureComponent } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport memoize from 'memoize-one';\nimport { LogService } from \"../../services\";\nimport { Colors } from \"../../style\";\nimport { forwardRef, asBaseComponent } from \"../../commons/new\";\nimport { extractAccessibilityProps } from \"../../commons/modifiers\";\nimport Badge from \"../badge\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport Image from \"../image\";\nimport AnimatedImage from \"../animatedImage\";\nimport * as AvatarHelper from \"../../helpers/AvatarHelper\";\nexport var BadgePosition;\n\n(function (BadgePosition) {\n  BadgePosition[\"TOP_RIGHT\"] = \"TOP_RIGHT\";\n  BadgePosition[\"TOP_LEFT\"] = \"TOP_LEFT\";\n  BadgePosition[\"BOTTOM_RIGHT\"] = \"BOTTOM_RIGHT\";\n  BadgePosition[\"BOTTOM_LEFT\"] = \"BOTTOM_LEFT\";\n})(BadgePosition || (BadgePosition = {}));\n\nvar DEFAULT_BADGE_SIZE = 10;\n\nvar Avatar = function (_PureComponent) {\n  _inherits(Avatar, _PureComponent);\n\n  var _super = _createSuper(Avatar);\n\n  function Avatar(props) {\n    var _this;\n\n    _classCallCheck(this, Avatar);\n\n    _this = _super.call(this, props);\n\n    _this.getBadgeBorderWidth = function () {\n      return _.get(_this.props, 'badgeProps.borderWidth', 0);\n    };\n\n    _this.getBadgeSize = function () {\n      var _this$props, _this$props$badgeProp;\n\n      return ((_this$props = _this.props) == null ? void 0 : (_this$props$badgeProp = _this$props.badgeProps) == null ? void 0 : _this$props$badgeProp.size) || DEFAULT_BADGE_SIZE;\n    };\n\n    _this.getBadgePosition = function () {\n      var _badgeAlignment;\n\n      var _this$props2 = _this.props,\n          size = _this$props2.size,\n          badgePosition = _this$props2.badgePosition;\n      var radius = size / 2;\n      var x = Math.sqrt(Math.pow(radius, 2) * 2);\n      var y = x - radius;\n      var shift = Math.sqrt(Math.pow(y, 2) / 2) - (_this.getBadgeSize() + _this.getBadgeBorderWidth() * 2) / 2;\n\n      var badgeLocation = _.split(_.toLower(badgePosition), '_', 2);\n\n      var badgeAlignment = (_badgeAlignment = {\n        position: 'absolute'\n      }, _defineProperty(_badgeAlignment, badgeLocation[0], shift), _defineProperty(_badgeAlignment, badgeLocation[1], shift), _badgeAlignment);\n      return badgeAlignment;\n    };\n\n    _this.getText = memoize(function (label, name) {\n      var text = label;\n\n      if (_.isNil(label) && !_.isNil(name)) {\n        text = AvatarHelper.getInitials(name);\n      }\n\n      return text;\n    });\n    _this.getBackgroundColor = memoize(function (text, avatarColors, hashFunction, defaultColor) {\n      return AvatarHelper.getBackgroundColor(text, avatarColors, hashFunction, defaultColor);\n    });\n    _this.styles = createStyles(props);\n\n    if (props.imageSource) {\n      LogService.warn('uilib: imageSource prop is deprecated, use source instead.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Avatar, [{\n    key: \"source\",\n    get: function get() {\n      return this.props.source || this.props.imageSource;\n    }\n  }, {\n    key: \"getContainerStyle\",\n    value: function getContainerStyle() {\n      var size = this.props.size;\n      return {\n        width: size,\n        height: size,\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: size / 2\n      };\n    }\n  }, {\n    key: \"getInitialsContainer\",\n    value: function getInitialsContainer() {\n      var size = this.props.size;\n      return _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: size / 2\n      });\n    }\n  }, {\n    key: \"getRibbonStyle\",\n    value: function getRibbonStyle() {\n      var size = this.props.size;\n      return {\n        position: 'absolute',\n        top: '10%',\n        left: size / 1.7,\n        borderRadius: size / 2\n      };\n    }\n  }, {\n    key: \"getBadgeColor\",\n    value: function getBadgeColor() {\n      return _.get(this.props, 'badgeProps.backgroundColor');\n    }\n  }, {\n    key: \"renderBadge\",\n    value: function renderBadge() {\n      var _this$props3 = this.props,\n          testID = _this$props3.testID,\n          badgeProps = _this$props3.badgeProps;\n\n      if (badgeProps || this.getBadgeColor()) {\n        return React.createElement(Badge, _extends({\n          backgroundColor: this.getBadgeColor(),\n          size: this.getBadgeSize()\n        }, badgeProps, {\n          containerStyle: this.getBadgePosition(),\n          testID: testID + \".onlineBadge\"\n        }));\n      }\n    }\n  }, {\n    key: \"renderRibbon\",\n    value: function renderRibbon() {\n      var _this$props4 = this.props,\n          ribbonLabel = _this$props4.ribbonLabel,\n          ribbonStyle = _this$props4.ribbonStyle,\n          ribbonLabelStyle = _this$props4.ribbonLabelStyle,\n          customRibbon = _this$props4.customRibbon;\n\n      if (ribbonLabel) {\n        return customRibbon ? React.createElement(View, {\n          style: this.getRibbonStyle()\n        }, customRibbon) : React.createElement(View, {\n          style: [this.getRibbonStyle(), this.styles.ribbon, ribbonStyle]\n        }, React.createElement(Text, {\n          numberOfLines: 1,\n          text100: true,\n          white: true,\n          style: [ribbonLabelStyle]\n        }, ribbonLabel));\n      }\n    }\n  }, {\n    key: \"renderImage\",\n    value: function renderImage() {\n      var _this$props5 = this.props,\n          animate = _this$props5.animate,\n          onImageLoadStart = _this$props5.onImageLoadStart,\n          onImageLoadEnd = _this$props5.onImageLoadEnd,\n          onImageLoadError = _this$props5.onImageLoadError,\n          testID = _this$props5.testID,\n          imageProps = _this$props5.imageProps,\n          imageStyle = _this$props5.imageStyle;\n      var hasImage = !_.isUndefined(this.source);\n      var ImageContainer = animate ? AnimatedImage : Image;\n\n      if (hasImage) {\n        return React.createElement(ImageContainer, _extends({\n          animate: animate,\n          style: [this.getContainerStyle(), StyleSheet.absoluteFillObject, imageStyle],\n          source: this.source,\n          onLoadStart: onImageLoadStart,\n          onLoadEnd: onImageLoadEnd,\n          onError: onImageLoadError,\n          testID: testID + \".image\",\n          containerStyle: this.getContainerStyle()\n        }, imageProps));\n      }\n    }\n  }, {\n    key: \"text\",\n    get: function get() {\n      var _this$props6 = this.props,\n          label = _this$props6.label,\n          name = _this$props6.name;\n      return this.getText(label, name);\n    }\n  }, {\n    key: \"backgroundColor\",\n    get: function get() {\n      var _this$props7 = this.props,\n          backgroundColor = _this$props7.backgroundColor,\n          useAutoColors = _this$props7.useAutoColors,\n          autoColorsConfig = _this$props7.autoColorsConfig,\n          name = _this$props7.name;\n\n      if (backgroundColor) {\n        return backgroundColor;\n      }\n\n      var _ref = autoColorsConfig || {},\n          _ref$avatarColors = _ref.avatarColors,\n          avatarColors = _ref$avatarColors === void 0 ? AvatarHelper.getAvatarColors() : _ref$avatarColors,\n          _ref$hashFunction = _ref.hashFunction,\n          hashFunction = _ref$hashFunction === void 0 ? AvatarHelper.hashStringToNumber : _ref$hashFunction,\n          _ref$defaultColor = _ref.defaultColor,\n          defaultColor = _ref$defaultColor === void 0 ? Colors.grey80 : _ref$defaultColor;\n\n      if (useAutoColors) {\n        return this.getBackgroundColor(name, avatarColors, hashFunction, defaultColor);\n      } else {\n        return defaultColor;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          color = _this$props8.labelColor,\n          onPress = _this$props8.onPress,\n          containerStyle = _this$props8.containerStyle,\n          children = _this$props8.children,\n          size = _this$props8.size,\n          testID = _this$props8.testID,\n          forwardedRef = _this$props8.forwardedRef;\n      var Container = onPress ? TouchableOpacity : View;\n      var hasImage = !_.isUndefined(this.source);\n      var fontSizeToImageSizeRatio = 0.32;\n      var fontSize = size * fontSizeToImageSizeRatio;\n      var text = this.text;\n      return React.createElement(Container, _extends({\n        style: [this.getContainerStyle(), containerStyle],\n        ref: forwardedRef,\n        testID: testID,\n        onPress: onPress,\n        accessible: !_.isUndefined(onPress),\n        accessibilityLabel: 'Avatar',\n        accessibilityRole: onPress ? 'button' : 'image'\n      }, extractAccessibilityProps(this.props)), React.createElement(View, {\n        style: [this.getInitialsContainer(), {\n          backgroundColor: this.backgroundColor\n        }, hasImage && this.styles.initialsContainerWithInset]\n      }, !_.isUndefined(text) && React.createElement(Text, {\n        numberOfLines: 1,\n        style: [{\n          fontSize: fontSize\n        }, this.styles.initials, {\n          color: color\n        }],\n        testID: testID + \".label\"\n      }, text)), this.renderImage(), this.renderBadge(), this.renderRibbon(), children);\n    }\n  }]);\n\n  return Avatar;\n}(PureComponent);\n\nAvatar.propTypes = {\n  animate: _pt.bool,\n  backgroundColor: _pt.string,\n  badgePosition: _pt.oneOf([\"TOP_RIGHT\", \"TOP_LEFT\", \"BOTTOM_RIGHT\", \"BOTTOM_LEFT\"]),\n  name: _pt.string,\n  useAutoColors: _pt.bool,\n  autoColorsConfig: _pt.shape({\n    avatarColors: _pt.arrayOf(_pt.string),\n    hashFunction: _pt.func,\n    defaultColor: _pt.string\n  }),\n  label: _pt.string,\n  labelColor: _pt.string,\n  ribbonLabel: _pt.string,\n  customRibbon: _pt.element,\n  size: _pt.number,\n  onPress: _pt.func,\n  testID: _pt.string\n};\nAvatar.displayName = 'Avatar';\nAvatar.defaultProps = {\n  animate: false,\n  size: 50,\n  labelColor: Colors.grey10,\n  badgePosition: BadgePosition.TOP_RIGHT\n};\nAvatar.badgePosition = BadgePosition;\n\nfunction createStyles(props) {\n  var labelColor = props.labelColor;\n  var styles = StyleSheet.create({\n    initialsContainerWithInset: {\n      top: 1,\n      right: 1,\n      bottom: 1,\n      left: 1\n    },\n    initials: {\n      color: labelColor,\n      backgroundColor: 'transparent',\n      lineHeight: undefined\n    },\n    ribbon: {\n      backgroundColor: Colors.primary,\n      paddingHorizontal: 6,\n      paddingVertical: 3\n    }\n  });\n  return styles;\n}\n\nexport { Avatar };\nexport default asBaseComponent(forwardRef(Avatar));","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Ãrea de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/components/avatar/index.js"],"names":["_pt","_","React","PureComponent","memoize","LogService","Colors","forwardRef","asBaseComponent","extractAccessibilityProps","Badge","View","Text","Image","AnimatedImage","AvatarHelper","BadgePosition","DEFAULT_BADGE_SIZE","Avatar","props","getBadgeBorderWidth","get","getBadgeSize","badgeProps","size","getBadgePosition","badgePosition","radius","x","Math","sqrt","y","shift","badgeLocation","split","toLower","badgeAlignment","position","getText","label","name","text","isNil","getInitials","getBackgroundColor","avatarColors","hashFunction","defaultColor","styles","createStyles","imageSource","warn","source","width","height","alignItems","justifyContent","borderRadius","StyleSheet","absoluteFillObject","top","left","testID","getBadgeColor","ribbonLabel","ribbonStyle","ribbonLabelStyle","customRibbon","getRibbonStyle","ribbon","animate","onImageLoadStart","onImageLoadEnd","onImageLoadError","imageProps","imageStyle","hasImage","isUndefined","ImageContainer","getContainerStyle","backgroundColor","useAutoColors","autoColorsConfig","getAvatarColors","hashStringToNumber","grey80","color","labelColor","onPress","containerStyle","children","forwardedRef","Container","TouchableOpacity","fontSizeToImageSizeRatio","fontSize","getInitialsContainer","initialsContainerWithInset","initials","renderImage","renderBadge","renderRibbon","propTypes","bool","string","oneOf","shape","arrayOf","func","element","number","displayName","defaultProps","grey10","TOP_RIGHT","create","right","bottom","lineHeight","undefined","primary","paddingHorizontal","paddingVertical"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\nimport _ from 'lodash';\nimport React, { PureComponent } from 'react';\nimport { StyleSheet, TouchableOpacity } from 'react-native';\nimport memoize from 'memoize-one';\nimport { LogService } from \"../../services\";\nimport { Colors } from \"../../style\";\nimport { forwardRef, asBaseComponent } from \"../../commons/new\";\nimport { extractAccessibilityProps } from \"../../commons/modifiers\";\nimport Badge from \"../badge\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport Image from \"../image\"; // @ts-ignore\n\nimport AnimatedImage from \"../animatedImage\";\nimport * as AvatarHelper from \"../../helpers/AvatarHelper\";\nexport let BadgePosition;\n\n(function (BadgePosition) {\n  BadgePosition[\"TOP_RIGHT\"] = \"TOP_RIGHT\";\n  BadgePosition[\"TOP_LEFT\"] = \"TOP_LEFT\";\n  BadgePosition[\"BOTTOM_RIGHT\"] = \"BOTTOM_RIGHT\";\n  BadgePosition[\"BOTTOM_LEFT\"] = \"BOTTOM_LEFT\";\n})(BadgePosition || (BadgePosition = {}));\n\nconst DEFAULT_BADGE_SIZE = 10;\n\n/**\n * @description: Avatar component for displaying user profile images\n * @extends: TouchableOpacity, Image\n * @image: https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/Avatar/Avarat_1.png?raw=true, https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/Avatar/Avarat_2.png?raw=true\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/AvatarsScreen.tsx\n */\nclass Avatar extends PureComponent {\n  static propTypes = {\n    /**\n       * Adds fade in animation when Avatar image loads\n       */\n    animate: _pt.bool,\n\n    /**\n       * Background color for Avatar\n       */\n    backgroundColor: _pt.string,\n\n    /**\n       * Badge location on Avatar\n       */\n    badgePosition: _pt.oneOf([\"TOP_RIGHT\", \"TOP_LEFT\", \"BOTTOM_RIGHT\", \"BOTTOM_LEFT\"]),\n\n    /**\n       * The name of the avatar user.\n       * If no label is provided, the initials will be generated from the name.\n       * autoColorsConfig will use the name to create the background color of the Avatar.\n       */\n    name: _pt.string,\n\n    /**\n       * Hash the name (or label) to get a color, so each name will have a specific color.\n       * Default is false.\n       */\n    useAutoColors: _pt.bool,\n\n    /**\n       * Send this to use the name to infer a backgroundColor\n       */\n    autoColorsConfig: _pt.shape({\n      /**\n         * Avatar colors to be used when useAutoColors is true\n         */\n      avatarColors: _pt.arrayOf(_pt.string),\n\n      /**\n         * Replace the default hashing function (name -> number)\n         */\n      hashFunction: _pt.func,\n\n      /**\n         * Background color in cases where the getBackgroundColor returns undefined.\n         */\n      defaultColor: _pt.string\n    }),\n\n    /**\n       * Label that can represent initials\n       */\n    label: _pt.string,\n\n    /**\n       * The label color\n       */\n    labelColor: _pt.string,\n\n    /**\n       * ribbon label to display on the avatar\n       */\n    ribbonLabel: _pt.string,\n\n    /**\n       * Custom ribbon\n       */\n    customRibbon: _pt.element,\n\n    /**\n       * Custom size for the Avatar\n       */\n    size: _pt.number,\n\n    /**\n       * Press handler\n       */\n    onPress: _pt.func,\n\n    /**\n       * Used as a testing identifier\n       */\n    testID: _pt.string\n  };\n  static displayName = 'Avatar';\n\n  constructor(props) {\n    super(props);\n    this.styles = createStyles(props);\n\n    if (props.imageSource) {\n      LogService.warn('uilib: imageSource prop is deprecated, use source instead.');\n    }\n  }\n\n  static defaultProps = {\n    animate: false,\n    size: 50,\n    labelColor: Colors.grey10,\n    badgePosition: BadgePosition.TOP_RIGHT\n  };\n  static badgePosition = BadgePosition;\n\n  get source() {\n    return this.props.source || this.props.imageSource;\n  }\n\n  getContainerStyle() {\n    const {\n      size\n    } = this.props;\n    return {\n      width: size,\n      height: size,\n      alignItems: 'center',\n      justifyContent: 'center',\n      borderRadius: size / 2\n    };\n  }\n\n  getInitialsContainer() {\n    const {\n      size\n    } = this.props;\n    return { ...StyleSheet.absoluteFillObject,\n      alignItems: 'center',\n      justifyContent: 'center',\n      borderRadius: size / 2\n    };\n  }\n\n  getRibbonStyle() {\n    const {\n      size\n    } = this.props;\n    return {\n      position: 'absolute',\n      top: '10%',\n      left: size / 1.7,\n      borderRadius: size / 2\n    };\n  }\n\n  getBadgeBorderWidth = () => _.get(this.props, 'badgeProps.borderWidth', 0);\n\n  getBadgeColor() {\n    return _.get(this.props, 'badgeProps.backgroundColor');\n  }\n\n  getBadgeSize = () => {\n    return this.props?.badgeProps?.size || DEFAULT_BADGE_SIZE;\n  };\n  getBadgePosition = () => {\n    const {\n      size,\n      badgePosition\n    } = this.props;\n    const radius = size / 2;\n    const x = Math.sqrt(radius ** 2 * 2);\n    const y = x - radius; // @ts-expect-error TODO: once badge size will stop supporting string type this should be resolved\n\n    const shift = Math.sqrt(y ** 2 / 2) - (this.getBadgeSize() + this.getBadgeBorderWidth() * 2) / 2;\n\n    const badgeLocation = _.split(_.toLower(badgePosition), '_', 2);\n\n    const badgeAlignment = {\n      position: 'absolute',\n      [badgeLocation[0]]: shift,\n      [badgeLocation[1]]: shift\n    };\n    return badgeAlignment;\n  };\n\n  renderBadge() {\n    const {\n      testID,\n      badgeProps\n    } = this.props;\n\n    if (badgeProps || this.getBadgeColor()) {\n      return <Badge backgroundColor={this.getBadgeColor()} size={this.getBadgeSize()} {...badgeProps} containerStyle={this.getBadgePosition()} testID={`${testID}.onlineBadge`} />;\n    }\n  }\n\n  renderRibbon() {\n    const {\n      ribbonLabel,\n      ribbonStyle,\n      ribbonLabelStyle,\n      customRibbon\n    } = this.props;\n\n    if (ribbonLabel) {\n      return customRibbon ? <View style={this.getRibbonStyle()}>{customRibbon}</View> : <View style={[this.getRibbonStyle(), this.styles.ribbon, ribbonStyle]}>\n          <Text numberOfLines={1} text100 white style={[ribbonLabelStyle]}>\n            {ribbonLabel}\n          </Text>\n        </View>;\n    }\n  }\n\n  renderImage() {\n    const {\n      animate,\n      // @ts-ignore\n      onImageLoadStart,\n      onImageLoadEnd,\n      onImageLoadError,\n      testID,\n      imageProps,\n      imageStyle\n    } = this.props;\n    const hasImage = !_.isUndefined(this.source);\n    const ImageContainer = animate ? AnimatedImage : Image;\n\n    if (hasImage) {\n      return <ImageContainer animate={animate} style={[this.getContainerStyle(), StyleSheet.absoluteFillObject, imageStyle]} source={this.source} onLoadStart={onImageLoadStart} onLoadEnd={onImageLoadEnd} onError={onImageLoadError} testID={`${testID}.image`} containerStyle={this.getContainerStyle()} {...imageProps} />;\n    }\n  }\n\n  getText = memoize((label, name) => {\n    let text = label;\n\n    if (_.isNil(label) && !_.isNil(name)) {\n      text = AvatarHelper.getInitials(name);\n    }\n\n    return text;\n  });\n\n  get text() {\n    const {\n      label,\n      name\n    } = this.props;\n    return this.getText(label, name);\n  }\n\n  getBackgroundColor = memoize((text, avatarColors, hashFunction, defaultColor) => {\n    return AvatarHelper.getBackgroundColor(text, avatarColors, hashFunction, defaultColor);\n  });\n\n  get backgroundColor() {\n    const {\n      backgroundColor,\n      useAutoColors,\n      autoColorsConfig,\n      name\n    } = this.props;\n\n    if (backgroundColor) {\n      return backgroundColor;\n    }\n\n    const {\n      avatarColors = AvatarHelper.getAvatarColors(),\n      hashFunction = AvatarHelper.hashStringToNumber,\n      defaultColor = Colors.grey80\n    } = autoColorsConfig || {};\n\n    if (useAutoColors) {\n      return this.getBackgroundColor(name, avatarColors, hashFunction, defaultColor);\n    } else {\n      return defaultColor;\n    }\n  }\n\n  render() {\n    const {\n      labelColor: color,\n      onPress,\n      containerStyle,\n      children,\n      size,\n      testID,\n      //@ts-ignore\n      forwardedRef\n    } = this.props;\n    const Container = onPress ? TouchableOpacity : View;\n    const hasImage = !_.isUndefined(this.source);\n    const fontSizeToImageSizeRatio = 0.32;\n    const fontSize = size * fontSizeToImageSizeRatio;\n    const text = this.text;\n    return <Container style={[this.getContainerStyle(), containerStyle]} ref={forwardedRef} testID={testID} onPress={onPress} accessible={!_.isUndefined(onPress)} accessibilityLabel={'Avatar'} accessibilityRole={onPress ? 'button' : 'image'} {...extractAccessibilityProps(this.props)}>\n        <View style={[this.getInitialsContainer(), {\n        backgroundColor: this.backgroundColor\n      }, hasImage && this.styles.initialsContainerWithInset]}>\n          {!_.isUndefined(text) && <Text numberOfLines={1} style={[{\n          fontSize\n        }, this.styles.initials, {\n          color\n        }]} testID={`${testID}.label`}>\n              {text}\n            </Text>}\n        </View>\n        {this.renderImage()}\n        {this.renderBadge()}\n        {this.renderRibbon()}\n        {children}\n      </Container>;\n  }\n\n}\n\nfunction createStyles(props) {\n  const {\n    labelColor\n  } = props;\n  const styles = StyleSheet.create({\n    initialsContainerWithInset: {\n      top: 1,\n      right: 1,\n      bottom: 1,\n      left: 1\n    },\n    initials: {\n      color: labelColor,\n      backgroundColor: 'transparent',\n      lineHeight: undefined\n    },\n    ribbon: {\n      backgroundColor: Colors.primary,\n      paddingHorizontal: 6,\n      paddingVertical: 3\n    }\n  });\n  return styles;\n}\n\nexport { Avatar }; // For tests\n\nexport default asBaseComponent(forwardRef(Avatar));"]},"metadata":{},"sourceType":"module"}