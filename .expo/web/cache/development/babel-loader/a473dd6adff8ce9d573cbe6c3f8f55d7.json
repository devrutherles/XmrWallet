{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _ from 'lodash';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Typography, Colors, Scheme, BorderRadiuses, Spacings, ThemeManager } from \"../style\";\nexport var FLEX_KEY_PATTERN = /^flex(G|S)?(-\\d*)?$/;\nexport var PADDING_KEY_PATTERN = new RegExp(\"padding[LTRBHV]?-([0-9]*|\" + Spacings.getKeysPattern() + \")\");\nexport var MARGIN_KEY_PATTERN = new RegExp(\"margin[LTRBHV]?-([0-9]*|\" + Spacings.getKeysPattern() + \")\");\nexport var ALIGNMENT_KEY_PATTERN = /(left|top|right|bottom|center|centerV|centerH|spread)/;\nexport var POSITION_KEY_PATTERN = /^abs([F|L|R|T|B|V|H])?$/;\nvar PADDING_VARIATIONS = {\n  padding: 'padding',\n  paddingL: 'paddingLeft',\n  paddingT: 'paddingTop',\n  paddingR: 'paddingRight',\n  paddingB: 'paddingBottom',\n  paddingH: 'paddingHorizontal',\n  paddingV: 'paddingVertical'\n};\nvar MARGIN_VARIATIONS = {\n  margin: 'margin',\n  marginL: 'marginLeft',\n  marginT: 'marginTop',\n  marginR: 'marginRight',\n  marginB: 'marginBottom',\n  marginH: 'marginHorizontal',\n  marginV: 'marginVertical'\n};\nvar STYLE_KEY_CONVERTERS = {\n  flex: 'flex',\n  flexG: 'flexGrow',\n  flexS: 'flexShrink'\n};\nexport function extractColorValue(props) {\n  var schemeColors = Scheme.getScheme();\n  var allColorsKeys = [].concat(_toConsumableArray(_.keys(Colors)), _toConsumableArray(_.keys(schemeColors)));\n\n  var colorPropsKeys = _.chain(props).keys().filter(function (key) {\n    return _.includes(allColorsKeys, key);\n  }).value();\n\n  var colorKey = _.findLast(colorPropsKeys, function (colorKey) {\n    return props[colorKey] === true;\n  });\n\n  return schemeColors[colorKey] || Colors[colorKey];\n}\nexport function extractBackgroundColorValue(props) {\n  var backgroundColor;\n  var schemeColors = Scheme.getScheme();\n  var keys = Object.keys(props);\n\n  var bgProp = _.findLast(keys, function (prop) {\n    return Colors.getBackgroundKeysPattern().test(prop) && !!props[prop];\n  });\n\n  if (props[bgProp]) {\n    var key = bgProp.replace(Colors.getBackgroundKeysPattern(), '');\n    backgroundColor = schemeColors[key] || Colors[key];\n  }\n\n  return backgroundColor;\n}\nexport function extractTypographyValue(props) {\n  var typographyPropsKeys = _.chain(props).keys().filter(function (key) {\n    return Typography.getKeysPattern().test(key);\n  }).value();\n\n  var typography;\n\n  _.forEach(typographyPropsKeys, function (key) {\n    if (props[key] === true) {\n      typography = _objectSpread(_objectSpread({}, typography), Typography[key]);\n    }\n  });\n\n  return typography;\n}\nexport function extractPaddingValues(props) {\n  var paddings = {};\n\n  var paddingPropsKeys = _.chain(props).keys().filter(function (key) {\n    return PADDING_KEY_PATTERN.test(key);\n  }).value();\n\n  _.forEach(paddingPropsKeys, function (key) {\n    if (props[key] === true) {\n      var _key$split = key.split('-'),\n          _key$split2 = _slicedToArray(_key$split, 2),\n          paddingKey = _key$split2[0],\n          paddingValue = _key$split2[1];\n\n      var paddingVariation = PADDING_VARIATIONS[paddingKey];\n\n      if (!isNaN(Number(paddingValue))) {\n        paddings[paddingVariation] = Number(paddingValue);\n      } else if (Spacings.getKeysPattern().test(paddingValue)) {\n        paddings[paddingVariation] = Spacings[paddingValue];\n      }\n    }\n  });\n\n  return paddings;\n}\nexport function extractMarginValues(props) {\n  var margins = {};\n\n  var marginPropsKeys = _.chain(props).keys().filter(function (key) {\n    return MARGIN_KEY_PATTERN.test(key);\n  }).value();\n\n  _.forEach(marginPropsKeys, function (key) {\n    if (props[key] === true) {\n      var _key$split3 = key.split('-'),\n          _key$split4 = _slicedToArray(_key$split3, 2),\n          marginKey = _key$split4[0],\n          marginValue = _key$split4[1];\n\n      var paddingVariation = MARGIN_VARIATIONS[marginKey];\n\n      if (!isNaN(Number(marginValue))) {\n        margins[paddingVariation] = Number(marginValue);\n      } else if (Spacings.getKeysPattern().test(marginValue)) {\n        margins[paddingVariation] = Spacings[marginValue];\n      }\n    }\n  });\n\n  return margins;\n}\nexport function extractAlignmentsValues(props) {\n  var row = props.row,\n      center = props.center;\n  var alignments = {};\n  var alignmentRules = {};\n\n  if (row) {\n    alignments.flexDirection = 'row';\n    alignmentRules.justifyContent = ['left', 'right', 'centerH', 'spread'];\n    alignmentRules.alignItems = ['top', 'bottom', 'centerV'];\n  } else {\n    alignmentRules.justifyContent = ['top', 'bottom', 'centerV', 'spread'];\n    alignmentRules.alignItems = ['left', 'right', 'centerH'];\n  }\n\n  _.forEach(alignmentRules, function (positions, attribute) {\n    _.forEach(positions, function (position) {\n      if (props[position]) {\n        if (_.includes(['top', 'left'], position)) {\n          alignments[attribute] = 'flex-start';\n        } else if (_.includes(['bottom', 'right'], position)) {\n          alignments[attribute] = 'flex-end';\n        } else if (_.includes(['centerH', 'centerV'], position)) {\n          alignments[attribute] = 'center';\n        } else if (position === 'spread') {\n          alignments[attribute] = 'space-between';\n        }\n      }\n    });\n  });\n\n  if (center) {\n    alignments.justifyContent = 'center';\n    alignments.alignItems = 'center';\n  }\n\n  return alignments;\n}\nexport function extractPositionStyle(props) {\n  var POSITION_CONVERSIONS = {\n    F: 'Fill',\n    T: 'Top',\n    B: 'Bottom',\n    L: 'Left',\n    R: 'Right',\n    H: 'Horizontal',\n    V: 'Vertical'\n  };\n  var keys = Object.keys(props);\n\n  var positionProps = _.filter(keys, function (prop) {\n    return POSITION_KEY_PATTERN.test(prop) && !!props[prop];\n  });\n\n  var style = {};\n\n  _.forEach(positionProps, function (positionProp) {\n    var positionVariationKey = _.split(positionProp, 'abs')[1];\n\n    if (positionVariationKey) {\n      var positionVariation = POSITION_CONVERSIONS[positionVariationKey];\n      var styleKey = \"absolute\" + positionVariation;\n      style = _objectSpread(_objectSpread({}, style), styles[styleKey]);\n    }\n\n    style = _objectSpread(_objectSpread({}, style), styles.absolute);\n  });\n\n  return _.isEmpty(style) ? undefined : style;\n}\nexport function extractFlexStyle(props) {\n  var keys = Object.keys(props);\n  var flexProp = keys.find(function (item) {\n    return FLEX_KEY_PATTERN.test(item);\n  });\n\n  if (flexProp && props[flexProp] === true) {\n    var _flexProp$split = flexProp.split('-'),\n        _flexProp$split2 = _slicedToArray(_flexProp$split, 2),\n        flexKey = _flexProp$split2[0],\n        flexValue = _flexProp$split2[1];\n\n    var convertedFlexKey = STYLE_KEY_CONVERTERS[flexKey];\n    var flexValueAsNumber = _.isEmpty(flexValue) ? 1 : Number(flexValue);\n    return _defineProperty({}, convertedFlexKey, flexValueAsNumber);\n  }\n}\nexport function extractAccessibilityProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  return _.pickBy(props, function (_value, key) {\n    return /.*ccessib.*/.test(key);\n  });\n}\nexport function extractAnimationProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  return _.pick(props, ['animation', 'duration', 'delay', 'direction', 'easing', 'iterationCount', 'transition', 'onAnimationBegin', 'onAnimationEnd', 'useNativeDriver']);\n}\nexport function extractBorderRadiusValue(props) {\n  var borderRadius;\n  var keys = Object.keys(props);\n  var radiusProp = keys.find(function (prop) {\n    return BorderRadiuses.getKeysPattern().test(prop) && props[prop];\n  });\n\n  if (radiusProp) {\n    borderRadius = BorderRadiuses[radiusProp];\n  }\n\n  return borderRadius;\n}\nexport function extractModifierProps(props) {\n  var patterns = [FLEX_KEY_PATTERN, PADDING_KEY_PATTERN, MARGIN_KEY_PATTERN, ALIGNMENT_KEY_PATTERN, Colors.getBackgroundKeysPattern()];\n\n  var modifierProps = _.pickBy(props, function (_value, key) {\n    var isModifier = _.find(patterns, function (pattern) {\n      return pattern.test(key);\n    });\n\n    return !!isModifier;\n  });\n\n  return modifierProps;\n}\nexport function extractOwnProps(props, ignoreProps) {\n  var ownPropTypes = this.propTypes;\n\n  var ownProps = _.chain(props).pickBy(function (_value, key) {\n    return _.includes(Object.keys(ownPropTypes), key);\n  }).omit(ignoreProps).value();\n\n  return ownProps;\n}\nexport function extractComponentProps(component, props) {\n  var ignoreProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var componentPropTypes = component.propTypes;\n\n  var componentProps = _.chain(props).pickBy(function (_value, key) {\n    return _.includes(Object.keys(componentPropTypes), key);\n  }).omit(ignoreProps).value();\n\n  return componentProps;\n}\nexport function getThemeProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.context;\n  var componentName = this.displayName || this.constructor.displayName || this.constructor.name;\n  var themeProps;\n\n  if (_.isFunction(ThemeManager.components[componentName])) {\n    themeProps = ThemeManager.components[componentName](props, context);\n  } else {\n    themeProps = ThemeManager.components[componentName];\n  }\n\n  var forcedThemeProps;\n\n  if (_.isFunction(ThemeManager.forcedThemeComponents[componentName])) {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName](props, context);\n  } else {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName];\n  }\n\n  return _objectSpread(_objectSpread(_objectSpread({}, themeProps), props), forcedThemeProps);\n}\nexport function generateModifiersStyle() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    color: true,\n    typography: true,\n    backgroundColor: true,\n    borderRadius: true,\n    paddings: true,\n    margins: true,\n    alignments: true,\n    flex: true,\n    position: true\n  };\n  var props = arguments.length > 1 ? arguments[1] : undefined;\n  var boundProps = props || this.props;\n  var style = {};\n\n  if (options.color) {\n    style.color = extractColorValue(boundProps);\n  }\n\n  if (options.typography) {\n    style.typography = extractTypographyValue(boundProps);\n  }\n\n  if (options.backgroundColor) {\n    style.backgroundColor = extractBackgroundColorValue(boundProps);\n  }\n\n  if (options.borderRadius) {\n    style.borderRadius = extractBorderRadiusValue(boundProps);\n  }\n\n  if (options.paddings) {\n    style.paddings = extractPaddingValues(boundProps);\n  }\n\n  if (options.margins) {\n    style.margins = extractMarginValues(boundProps);\n  }\n\n  if (options.alignments) {\n    style.alignments = extractAlignmentsValues(boundProps);\n  }\n\n  if (options.flex) {\n    style.flexStyle = extractFlexStyle(boundProps);\n  }\n\n  if (options.position) {\n    style.positionStyle = extractPositionStyle(boundProps);\n  }\n\n  return style;\n}\nexport function getAlteredModifiersOptions(currentProps, nextProps) {\n  var ignoredKeys = ['children', 'forwardedRef', 'style', 'testID'];\n\n  var allKeys = _.union([].concat(_toConsumableArray(_.keys(currentProps)), _toConsumableArray(_.keys(nextProps)))).filter(function (key) {\n    return !ignoredKeys.includes(key);\n  });\n\n  var changedKeys = _.filter(allKeys, function (key) {\n    return !_.isEqual(currentProps[key], nextProps[key]);\n  });\n\n  var options = {};\n\n  if (_.find(changedKeys, function (key) {\n    return FLEX_KEY_PATTERN.test(key);\n  })) {\n    options.flex = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return PADDING_KEY_PATTERN.test(key);\n  })) {\n    options.paddings = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return MARGIN_KEY_PATTERN.test(key);\n  })) {\n    options.margins = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return ALIGNMENT_KEY_PATTERN.test(key);\n  })) {\n    options.alignments = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return Colors.getBackgroundKeysPattern().test(key);\n  })) {\n    options.backgroundColor = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return POSITION_KEY_PATTERN.test(key);\n  })) {\n    options.position = true;\n  }\n\n  return options;\n}\nvar styles = StyleSheet.create({\n  absolute: {\n    position: 'absolute'\n  },\n  absoluteFill: StyleSheet.absoluteFillObject,\n  absoluteTop: {\n    position: 'absolute',\n    top: 0\n  },\n  absoluteBottom: {\n    position: 'absolute',\n    bottom: 0\n  },\n  absoluteLeft: {\n    position: 'absolute',\n    left: 0\n  },\n  absoluteRight: {\n    position: 'absolute',\n    right: 0\n  },\n  absoluteVertical: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0\n  },\n  absoluteHorizontal: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Ãrea de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/commons/modifiers.js"],"names":["_","Typography","Colors","Scheme","BorderRadiuses","Spacings","ThemeManager","FLEX_KEY_PATTERN","PADDING_KEY_PATTERN","RegExp","getKeysPattern","MARGIN_KEY_PATTERN","ALIGNMENT_KEY_PATTERN","POSITION_KEY_PATTERN","PADDING_VARIATIONS","padding","paddingL","paddingT","paddingR","paddingB","paddingH","paddingV","MARGIN_VARIATIONS","margin","marginL","marginT","marginR","marginB","marginH","marginV","STYLE_KEY_CONVERTERS","flex","flexG","flexS","extractColorValue","props","schemeColors","getScheme","allColorsKeys","keys","colorPropsKeys","chain","filter","key","includes","value","colorKey","findLast","extractBackgroundColorValue","backgroundColor","Object","bgProp","prop","getBackgroundKeysPattern","test","replace","extractTypographyValue","typographyPropsKeys","typography","forEach","extractPaddingValues","paddings","paddingPropsKeys","split","paddingKey","paddingValue","paddingVariation","isNaN","Number","extractMarginValues","margins","marginPropsKeys","marginKey","marginValue","extractAlignmentsValues","row","center","alignments","alignmentRules","flexDirection","justifyContent","alignItems","positions","attribute","position","extractPositionStyle","POSITION_CONVERSIONS","F","T","B","L","R","H","V","positionProps","style","positionProp","positionVariationKey","positionVariation","styleKey","styles","absolute","isEmpty","undefined","extractFlexStyle","flexProp","find","item","flexKey","flexValue","convertedFlexKey","flexValueAsNumber","extractAccessibilityProps","pickBy","_value","extractAnimationProps","pick","extractBorderRadiusValue","borderRadius","radiusProp","extractModifierProps","patterns","modifierProps","isModifier","pattern","extractOwnProps","ignoreProps","ownPropTypes","propTypes","ownProps","omit","extractComponentProps","component","componentPropTypes","componentProps","getThemeProps","context","componentName","displayName","constructor","name","themeProps","isFunction","components","forcedThemeProps","forcedThemeComponents","generateModifiersStyle","options","color","boundProps","flexStyle","positionStyle","getAlteredModifiersOptions","currentProps","nextProps","ignoredKeys","allKeys","union","changedKeys","isEqual","StyleSheet","create","absoluteFill","absoluteFillObject","absoluteTop","top","absoluteBottom","bottom","absoluteLeft","left","absoluteRight","right","absoluteVertical","absoluteHorizontal"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport { StyleSheet } from 'react-native';\nimport { Typography, Colors, Scheme, BorderRadiuses, Spacings, ThemeManager } from \"../style\";\nexport const FLEX_KEY_PATTERN = /^flex(G|S)?(-\\d*)?$/;\nexport const PADDING_KEY_PATTERN = new RegExp(`padding[LTRBHV]?-([0-9]*|${Spacings.getKeysPattern()})`);\nexport const MARGIN_KEY_PATTERN = new RegExp(`margin[LTRBHV]?-([0-9]*|${Spacings.getKeysPattern()})`);\nexport const ALIGNMENT_KEY_PATTERN = /(left|top|right|bottom|center|centerV|centerH|spread)/;\nexport const POSITION_KEY_PATTERN = /^abs([F|L|R|T|B|V|H])?$/;\nconst PADDING_VARIATIONS = {\n  padding: 'padding',\n  paddingL: 'paddingLeft',\n  paddingT: 'paddingTop',\n  paddingR: 'paddingRight',\n  paddingB: 'paddingBottom',\n  paddingH: 'paddingHorizontal',\n  paddingV: 'paddingVertical'\n};\nconst MARGIN_VARIATIONS = {\n  margin: 'margin',\n  marginL: 'marginLeft',\n  marginT: 'marginTop',\n  marginR: 'marginRight',\n  marginB: 'marginBottom',\n  marginH: 'marginHorizontal',\n  marginV: 'marginVertical'\n};\nconst STYLE_KEY_CONVERTERS = {\n  flex: 'flex',\n  flexG: 'flexGrow',\n  flexS: 'flexShrink'\n};\nexport function extractColorValue(props) {\n  const schemeColors = Scheme.getScheme();\n  const allColorsKeys = [..._.keys(Colors), ..._.keys(schemeColors)];\n\n  const colorPropsKeys = _.chain(props).keys().filter(key => _.includes(allColorsKeys, key)).value();\n\n  const colorKey = _.findLast(colorPropsKeys, colorKey => props[colorKey] === true);\n\n  return schemeColors[colorKey] || Colors[colorKey];\n}\nexport function extractBackgroundColorValue(props) {\n  let backgroundColor;\n  const schemeColors = Scheme.getScheme();\n  const keys = Object.keys(props);\n\n  const bgProp = _.findLast(keys, prop => Colors.getBackgroundKeysPattern().test(prop) && !!props[prop]);\n\n  if (props[bgProp]) {\n    const key = bgProp.replace(Colors.getBackgroundKeysPattern(), '');\n    backgroundColor = schemeColors[key] || Colors[key];\n  }\n\n  return backgroundColor;\n}\nexport function extractTypographyValue(props) {\n  const typographyPropsKeys = _.chain(props).keys().filter(key => Typography.getKeysPattern().test(key)).value();\n\n  let typography;\n\n  _.forEach(typographyPropsKeys, key => {\n    if (props[key] === true) {\n      typography = { ...typography,\n        ...Typography[key]\n      };\n    }\n  });\n\n  return typography;\n}\nexport function extractPaddingValues(props) {\n  const paddings = {};\n\n  const paddingPropsKeys = _.chain(props).keys().filter(key => PADDING_KEY_PATTERN.test(key)).value();\n\n  _.forEach(paddingPropsKeys, key => {\n    if (props[key] === true) {\n      const [paddingKey, paddingValue] = key.split('-');\n      const paddingVariation = PADDING_VARIATIONS[paddingKey];\n\n      if (!isNaN(Number(paddingValue))) {\n        paddings[paddingVariation] = Number(paddingValue);\n      } else if (Spacings.getKeysPattern().test(paddingValue)) {\n        paddings[paddingVariation] = Spacings[paddingValue];\n      }\n    }\n  });\n\n  return paddings;\n}\nexport function extractMarginValues(props) {\n  const margins = {};\n\n  const marginPropsKeys = _.chain(props).keys().filter(key => MARGIN_KEY_PATTERN.test(key)).value();\n\n  _.forEach(marginPropsKeys, key => {\n    if (props[key] === true) {\n      const [marginKey, marginValue] = key.split('-');\n      const paddingVariation = MARGIN_VARIATIONS[marginKey];\n\n      if (!isNaN(Number(marginValue))) {\n        margins[paddingVariation] = Number(marginValue);\n      } else if (Spacings.getKeysPattern().test(marginValue)) {\n        margins[paddingVariation] = Spacings[marginValue];\n      }\n    }\n  });\n\n  return margins;\n}\nexport function extractAlignmentsValues(props) {\n  const {\n    row,\n    center\n  } = props;\n  const alignments = {};\n  const alignmentRules = {};\n\n  if (row) {\n    alignments.flexDirection = 'row';\n    alignmentRules.justifyContent = ['left', 'right', 'centerH', 'spread'];\n    alignmentRules.alignItems = ['top', 'bottom', 'centerV'];\n  } else {\n    alignmentRules.justifyContent = ['top', 'bottom', 'centerV', 'spread'];\n    alignmentRules.alignItems = ['left', 'right', 'centerH'];\n  }\n\n  _.forEach(alignmentRules, (positions, attribute) => {\n    _.forEach(positions, position => {\n      if (props[position]) {\n        if (_.includes(['top', 'left'], position)) {\n          alignments[attribute] = 'flex-start';\n        } else if (_.includes(['bottom', 'right'], position)) {\n          alignments[attribute] = 'flex-end';\n        } else if (_.includes(['centerH', 'centerV'], position)) {\n          alignments[attribute] = 'center';\n        } else if (position === 'spread') {\n          alignments[attribute] = 'space-between';\n        }\n      }\n    });\n  });\n\n  if (center) {\n    alignments.justifyContent = 'center';\n    alignments.alignItems = 'center';\n  }\n\n  return alignments;\n}\nexport function extractPositionStyle(props) {\n  const POSITION_CONVERSIONS = {\n    F: 'Fill',\n    T: 'Top',\n    B: 'Bottom',\n    L: 'Left',\n    R: 'Right',\n    H: 'Horizontal',\n    V: 'Vertical'\n  };\n  const keys = Object.keys(props);\n\n  const positionProps = _.filter(keys, prop => POSITION_KEY_PATTERN.test(prop) && !!props[prop]);\n\n  let style = {};\n\n  _.forEach(positionProps, positionProp => {\n    const positionVariationKey = _.split(positionProp, 'abs')[1];\n\n    if (positionVariationKey) {\n      const positionVariation = POSITION_CONVERSIONS[positionVariationKey];\n      const styleKey = `absolute${positionVariation}`;\n      style = { ...style,\n        ...styles[styleKey]\n      };\n    }\n\n    style = { ...style,\n      ...styles.absolute\n    };\n  });\n\n  return _.isEmpty(style) ? undefined : style;\n}\nexport function extractFlexStyle(props) {\n  const keys = Object.keys(props);\n  const flexProp = keys.find(item => FLEX_KEY_PATTERN.test(item));\n\n  if (flexProp && props[flexProp] === true) {\n    const [flexKey, flexValue] = flexProp.split('-');\n    const convertedFlexKey = STYLE_KEY_CONVERTERS[flexKey];\n    const flexValueAsNumber = _.isEmpty(flexValue) ? 1 : Number(flexValue);\n    return {\n      [convertedFlexKey]: flexValueAsNumber\n    };\n  }\n} //@ts-ignore\n\nexport function extractAccessibilityProps(props = this.props) {\n  return _.pickBy(props, (_value, key) => {\n    return /.*ccessib.*/.test(key);\n  });\n} //@ts-ignore\n\nexport function extractAnimationProps(props = this.props) {\n  return _.pick(props, ['animation', 'duration', 'delay', 'direction', 'easing', 'iterationCount', 'transition', 'onAnimationBegin', 'onAnimationEnd', 'useNativeDriver']);\n}\nexport function extractBorderRadiusValue(props) {\n  let borderRadius;\n  const keys = Object.keys(props);\n  const radiusProp = keys.find(prop => BorderRadiuses.getKeysPattern().test(prop) && props[prop]);\n\n  if (radiusProp) {\n    borderRadius = BorderRadiuses[radiusProp];\n  }\n\n  return borderRadius;\n}\nexport function extractModifierProps(props) {\n  const patterns = [FLEX_KEY_PATTERN, PADDING_KEY_PATTERN, MARGIN_KEY_PATTERN, ALIGNMENT_KEY_PATTERN, Colors.getBackgroundKeysPattern()];\n\n  const modifierProps = _.pickBy(props, (_value, key) => {\n    const isModifier = _.find(patterns, pattern => pattern.test(key));\n\n    return !!isModifier;\n  });\n\n  return modifierProps;\n}\n/**\n * TODO:\n * @deprecated switch to Modifiers#extractComponentProps\n */\n\nexport function extractOwnProps(props, ignoreProps) {\n  //@ts-ignore\n  const ownPropTypes = this.propTypes;\n\n  const ownProps = _.chain(props).pickBy((_value, key) => _.includes(Object.keys(ownPropTypes), key)).omit(ignoreProps).value();\n\n  return ownProps;\n}\nexport function extractComponentProps(component, props, ignoreProps = []) {\n  const componentPropTypes = component.propTypes;\n\n  const componentProps = _.chain(props).pickBy((_value, key) => _.includes(Object.keys(componentPropTypes), key)).omit(ignoreProps).value();\n\n  return componentProps;\n} //@ts-ignore\n\nexport function getThemeProps(props = this.props, context = this.context) {\n  //@ts-ignore\n  const componentName = this.displayName || this.constructor.displayName || this.constructor.name;\n  let themeProps;\n\n  if (_.isFunction(ThemeManager.components[componentName])) {\n    themeProps = ThemeManager.components[componentName](props, context);\n  } else {\n    themeProps = ThemeManager.components[componentName];\n  }\n\n  let forcedThemeProps;\n\n  if (_.isFunction(ThemeManager.forcedThemeComponents[componentName])) {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName](props, context);\n  } else {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName];\n  }\n\n  return { ...themeProps,\n    ...props,\n    ...forcedThemeProps\n  };\n}\nexport function generateModifiersStyle(options = {\n  color: true,\n  typography: true,\n  backgroundColor: true,\n  borderRadius: true,\n  paddings: true,\n  margins: true,\n  alignments: true,\n  flex: true,\n  position: true\n}, props) {\n  //@ts-ignore\n  const boundProps = props || this.props;\n  const style = {};\n\n  if (options.color) {\n    style.color = extractColorValue(boundProps);\n  }\n\n  if (options.typography) {\n    style.typography = extractTypographyValue(boundProps);\n  }\n\n  if (options.backgroundColor) {\n    style.backgroundColor = extractBackgroundColorValue(boundProps);\n  }\n\n  if (options.borderRadius) {\n    style.borderRadius = extractBorderRadiusValue(boundProps);\n  }\n\n  if (options.paddings) {\n    style.paddings = extractPaddingValues(boundProps);\n  }\n\n  if (options.margins) {\n    style.margins = extractMarginValues(boundProps);\n  }\n\n  if (options.alignments) {\n    style.alignments = extractAlignmentsValues(boundProps);\n  }\n\n  if (options.flex) {\n    style.flexStyle = extractFlexStyle(boundProps);\n  }\n\n  if (options.position) {\n    style.positionStyle = extractPositionStyle(boundProps);\n  }\n\n  return style; // clean empty objects and undefined\n  // (!) This change is currently breaking UI layout for some reason - worth investigating\n  // return _.omitBy(style, value => _.isUndefined(value) || (_.isPlainObject(value) && _.isEmpty(value)));\n}\nexport function getAlteredModifiersOptions(currentProps, nextProps) {\n  const ignoredKeys = ['children', 'forwardedRef', 'style', 'testID'];\n\n  const allKeys = _.union([..._.keys(currentProps), ..._.keys(nextProps)]).filter(key => !ignoredKeys.includes(key));\n\n  const changedKeys = _.filter(allKeys, key => !_.isEqual(currentProps[key], nextProps[key]));\n\n  const options = {};\n\n  if (_.find(changedKeys, key => FLEX_KEY_PATTERN.test(key))) {\n    options.flex = true;\n  }\n\n  if (_.find(changedKeys, key => PADDING_KEY_PATTERN.test(key))) {\n    options.paddings = true;\n  }\n\n  if (_.find(changedKeys, key => MARGIN_KEY_PATTERN.test(key))) {\n    options.margins = true;\n  }\n\n  if (_.find(changedKeys, key => ALIGNMENT_KEY_PATTERN.test(key))) {\n    options.alignments = true;\n  }\n\n  if (_.find(changedKeys, key => Colors.getBackgroundKeysPattern().test(key))) {\n    options.backgroundColor = true;\n  }\n\n  if (_.find(changedKeys, key => POSITION_KEY_PATTERN.test(key))) {\n    options.position = true;\n  }\n\n  return options;\n}\nconst styles = StyleSheet.create({\n  absolute: {\n    position: 'absolute'\n  },\n  absoluteFill: StyleSheet.absoluteFillObject,\n  absoluteTop: {\n    position: 'absolute',\n    top: 0\n  },\n  absoluteBottom: {\n    position: 'absolute',\n    bottom: 0\n  },\n  absoluteLeft: {\n    position: 'absolute',\n    left: 0\n  },\n  absoluteRight: {\n    position: 'absolute',\n    right: 0\n  },\n  absoluteVertical: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0\n  },\n  absoluteHorizontal: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});"]},"metadata":{},"sourceType":"module"}