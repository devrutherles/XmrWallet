{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _NativeModules$Keyboa, _NativeModules$Keyboa2, _NativeModules$Keyboa3;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _pt from \"prop-types\";\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport NativeEventEmitter from \"react-native-web/dist/exports/NativeEventEmitter\";\nimport DeviceEventEmitter from \"react-native-web/dist/exports/DeviceEventEmitter\";\nimport processColor from \"react-native-web/dist/exports/processColor\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport KeyboardTrackingView from \"../KeyboardTracking/KeyboardTrackingView\";\nimport CustomKeyboardView from \"./CustomKeyboardView\";\nimport KeyboardUtils from \"./utils/KeyboardUtils\";\nvar IsIOS = Platform.OS === 'ios';\nvar IsAndroid = Platform.OS === 'android';\nvar IOS_SCROLL_BEHAVIORS = IsIOS ? {\n  NONE: (_NativeModules$Keyboa = NativeModules.KeyboardTrackingViewTempManager) == null ? void 0 : _NativeModules$Keyboa.KeyboardTrackingScrollBehaviorNone,\n  SCROLL_TO_BOTTOM_INVERTED_ONLY: (_NativeModules$Keyboa2 = NativeModules.KeyboardTrackingViewTempManager) == null ? void 0 : _NativeModules$Keyboa2.KeyboardTrackingScrollBehaviorScrollToBottomInvertedOnly,\n  FIXED_OFFSET: (_NativeModules$Keyboa3 = NativeModules.KeyboardTrackingViewTempManager) == null ? void 0 : _NativeModules$Keyboa3.KeyboardTrackingScrollBehaviorFixedOffset\n} : {};\n\nvar KeyboardAccessoryView = function (_Component) {\n  _inherits(KeyboardAccessoryView, _Component);\n\n  var _super = _createSuper(KeyboardAccessoryView);\n\n  function KeyboardAccessoryView(props) {\n    var _this;\n\n    _classCallCheck(this, KeyboardAccessoryView);\n\n    _this = _super.call(this, props);\n    _this.onContainerComponentHeightChanged = _this.onContainerComponentHeightChanged.bind(_assertThisInitialized(_this));\n    _this.processInitialProps = _this.processInitialProps.bind(_assertThisInitialized(_this));\n    _this.registerForKeyboardResignedEvent = _this.registerForKeyboardResignedEvent.bind(_assertThisInitialized(_this));\n    _this.registerAndroidBackHandler = _this.registerAndroidBackHandler.bind(_assertThisInitialized(_this));\n    _this.onAndroidBackPressed = _this.onAndroidBackPressed.bind(_assertThisInitialized(_this));\n\n    _this.registerForKeyboardResignedEvent();\n\n    _this.registerAndroidBackHandler();\n\n    return _this;\n  }\n\n  _createClass(KeyboardAccessoryView, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.customInputControllerEventsSubscriber) {\n        this.customInputControllerEventsSubscriber.remove();\n      }\n\n      if (IsAndroid) {\n        BackHandler.removeEventListener('hardwareBackPress', this.onAndroidBackPressed);\n      }\n    }\n  }, {\n    key: \"onContainerComponentHeightChanged\",\n    value: function onContainerComponentHeightChanged(event) {\n      var onHeightChanged = this.props.onHeightChanged;\n\n      if (onHeightChanged) {\n        onHeightChanged(event.nativeEvent.layout.height);\n      }\n    }\n  }, {\n    key: \"onAndroidBackPressed\",\n    value: function onAndroidBackPressed() {\n      var kbComponent = this.props.kbComponent;\n\n      if (kbComponent) {\n        KeyboardUtils.dismiss();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getIOSTrackingScrollBehavior\",\n    value: function getIOSTrackingScrollBehavior() {\n      var iOSScrollBehavior = this.props.iOSScrollBehavior;\n      var scrollBehavior = iOSScrollBehavior;\n\n      if (IsIOS && scrollBehavior === -1) {\n        scrollBehavior = KeyboardAccessoryView.iosScrollBehaviors.FIXED_OFFSET;\n      }\n\n      return scrollBehavior;\n    }\n  }, {\n    key: \"getNativeProps\",\n    value: function getNativeProps() {\n      return _regeneratorRuntime.async(function getNativeProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.trackingViewRef) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(this.trackingViewRef.getNativeProps());\n\n            case 3:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 4:\n              return _context.abrupt(\"return\", {});\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"registerForKeyboardResignedEvent\",\n    value: function registerForKeyboardResignedEvent() {\n      var onKeyboardResigned = this.props.onKeyboardResigned;\n      var eventEmitter = null;\n\n      if (IsIOS) {\n        if (NativeModules.CustomInputControllerTemp) {\n          eventEmitter = new NativeEventEmitter(NativeModules.CustomInputControllerTemp);\n        }\n      } else {\n        eventEmitter = DeviceEventEmitter;\n      }\n\n      if (eventEmitter !== null) {\n        this.customInputControllerEventsSubscriber = eventEmitter.addListener('kbdResigned', function () {\n          if (onKeyboardResigned) {\n            onKeyboardResigned();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"registerAndroidBackHandler\",\n    value: function registerAndroidBackHandler() {\n      if (IsAndroid) {\n        BackHandler.addEventListener('hardwareBackPress', this.onAndroidBackPressed);\n      }\n    }\n  }, {\n    key: \"processInitialProps\",\n    value: function processInitialProps() {\n      var kbInitialProps = this.props.kbInitialProps;\n\n      if (IsIOS && kbInitialProps && kbInitialProps.backgroundColor) {\n        var processedProps = Object.assign({}, kbInitialProps);\n        processedProps.backgroundColor = processColor(processedProps.backgroundColor);\n        return processedProps;\n      }\n\n      return kbInitialProps;\n    }\n  }, {\n    key: \"scrollToStart\",\n    value: function scrollToStart() {\n      if (this.trackingViewRef) {\n        this.trackingViewRef.scrollToStart();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          revealKeyboardInteractive = _this$props.revealKeyboardInteractive,\n          manageScrollView = _this$props.manageScrollView,\n          requiresSameParentToManageScrollView = _this$props.requiresSameParentToManageScrollView,\n          addBottomView = _this$props.addBottomView,\n          allowHitsOutsideBounds = _this$props.allowHitsOutsideBounds,\n          renderContent = _this$props.renderContent,\n          kbInputRef = _this$props.kbInputRef,\n          kbComponent = _this$props.kbComponent,\n          onItemSelected = _this$props.onItemSelected,\n          onRequestShowKeyboard = _this$props.onRequestShowKeyboard,\n          useSafeArea = _this$props.useSafeArea;\n      return React.createElement(KeyboardTrackingView, {\n        ref: function ref(r) {\n          return _this2.trackingViewRef = r;\n        },\n        style: styles.trackingToolbarContainer,\n        onLayout: this.onContainerComponentHeightChanged,\n        scrollBehavior: this.getIOSTrackingScrollBehavior(),\n        revealKeyboardInteractive: revealKeyboardInteractive,\n        manageScrollView: manageScrollView,\n        requiresSameParentToManageScrollView: requiresSameParentToManageScrollView,\n        addBottomView: addBottomView,\n        allowHitsOutsideBounds: allowHitsOutsideBounds\n      }, React.createElement(React.Fragment, null, renderContent == null ? void 0 : renderContent()), React.createElement(CustomKeyboardView, {\n        inputRef: kbInputRef,\n        component: kbComponent,\n        initialProps: this.processInitialProps(),\n        onItemSelected: onItemSelected,\n        onRequestShowKeyboard: onRequestShowKeyboard,\n        useSafeArea: useSafeArea\n      }));\n    }\n  }]);\n\n  return KeyboardAccessoryView;\n}(Component);\n\nKeyboardAccessoryView.propTypes = {\n  renderContent: _pt.func,\n  onHeightChanged: _pt.func,\n  kbInputRef: _pt.any,\n  kbComponent: _pt.string,\n  kbInitialProps: _pt.any,\n  onItemSelected: _pt.func,\n  onRequestShowKeyboard: _pt.func,\n  onKeyboardResigned: _pt.func,\n  iOSScrollBehavior: _pt.number,\n  revealKeyboardInteractive: _pt.bool,\n  manageScrollView: _pt.bool,\n  requiresSameParentToManageScrollView: _pt.bool,\n  addBottomView: _pt.bool,\n  allowHitsOutsideBounds: _pt.bool,\n  useSafeArea: _pt.bool\n};\nKeyboardAccessoryView.iosScrollBehaviors = IOS_SCROLL_BEHAVIORS;\nKeyboardAccessoryView.defaultProps = {\n  iOSScrollBehavior: -1,\n  revealKeyboardInteractive: false,\n  manageScrollView: true,\n  requiresSameParentToManageScrollView: false,\n  addBottomView: false,\n  allowHitsOutsideBounds: false\n};\nvar styles = StyleSheet.create({\n  trackingToolbarContainer: _objectSpread({}, Platform.select({\n    ios: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n      top: undefined\n    })\n  }))\n});\nexport default KeyboardAccessoryView;","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Área de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/lib/components/Keyboard/KeyboardInput/KeyboardAccessoryView.js"],"names":["_pt","React","Component","KeyboardTrackingView","CustomKeyboardView","KeyboardUtils","IsIOS","Platform","OS","IsAndroid","IOS_SCROLL_BEHAVIORS","NONE","NativeModules","KeyboardTrackingViewTempManager","KeyboardTrackingScrollBehaviorNone","SCROLL_TO_BOTTOM_INVERTED_ONLY","KeyboardTrackingScrollBehaviorScrollToBottomInvertedOnly","FIXED_OFFSET","KeyboardTrackingScrollBehaviorFixedOffset","KeyboardAccessoryView","props","onContainerComponentHeightChanged","bind","processInitialProps","registerForKeyboardResignedEvent","registerAndroidBackHandler","onAndroidBackPressed","customInputControllerEventsSubscriber","remove","BackHandler","removeEventListener","event","onHeightChanged","nativeEvent","layout","height","kbComponent","dismiss","iOSScrollBehavior","scrollBehavior","iosScrollBehaviors","trackingViewRef","getNativeProps","onKeyboardResigned","eventEmitter","CustomInputControllerTemp","NativeEventEmitter","DeviceEventEmitter","addListener","addEventListener","kbInitialProps","backgroundColor","processedProps","Object","assign","processColor","scrollToStart","revealKeyboardInteractive","manageScrollView","requiresSameParentToManageScrollView","addBottomView","allowHitsOutsideBounds","renderContent","kbInputRef","onItemSelected","onRequestShowKeyboard","useSafeArea","r","styles","trackingToolbarContainer","getIOSTrackingScrollBehavior","propTypes","func","any","string","number","bool","defaultProps","StyleSheet","create","select","ios","absoluteFillObject","top","undefined"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\nimport React, { Component } from 'react';\nimport { StyleSheet, Platform, NativeModules, NativeEventEmitter, DeviceEventEmitter, processColor, BackHandler } from 'react-native';\nimport KeyboardTrackingView from \"../KeyboardTracking/KeyboardTrackingView\";\nimport CustomKeyboardView from \"./CustomKeyboardView\";\nimport KeyboardUtils from \"./utils/KeyboardUtils\";\nconst IsIOS = Platform.OS === 'ios';\nconst IsAndroid = Platform.OS === 'android';\nconst IOS_SCROLL_BEHAVIORS = IsIOS ? {\n  NONE: NativeModules.KeyboardTrackingViewTempManager?.KeyboardTrackingScrollBehaviorNone,\n  SCROLL_TO_BOTTOM_INVERTED_ONLY: NativeModules.KeyboardTrackingViewTempManager?.KeyboardTrackingScrollBehaviorScrollToBottomInvertedOnly,\n  FIXED_OFFSET: NativeModules.KeyboardTrackingViewTempManager?.KeyboardTrackingScrollBehaviorFixedOffset\n} : {};\n\n/**\n * @description: View that allows replacing the default keyboard with other components\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/nativeComponentScreens/keyboardInput/KeyboardInputViewScreen.js\n * @gif: https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/KeyboardAccessoryView/KeyboardAccessoryView.gif?raw=true\n */\nclass KeyboardAccessoryView extends Component {\n  static propTypes = {\n    /**\n       * Content to be rendered above the keyboard\n       */\n    renderContent: _pt.func,\n\n    /**\n       * A callback for when the height is changed\n       */\n    onHeightChanged: _pt.func,\n\n    /**\n       * iOS only.\n       * The reference to the actual text input (or the keyboard may not reset when instructed to, etc.).\n       * This is required.\n       */\n    kbInputRef: _pt.any,\n\n    /**\n       * The keyboard ID (the componentID sent to KeyboardRegistry)\n       */\n    kbComponent: _pt.string,\n\n    /**\n       * The props that will be sent to the KeyboardComponent\n       */\n    kbInitialProps: _pt.any,\n\n    /**\n       * Callback that will be called when an item on the keyboard has been pressed.\n       */\n    onItemSelected: _pt.func,\n\n    /**\n       * Callback that will be called if KeyboardRegistry.requestShowKeyboard is called.\n       */\n    onRequestShowKeyboard: _pt.func,\n\n    /**\n       * Callback that will be called once the keyboard has been closed\n       */\n    onKeyboardResigned: _pt.func,\n\n    /**\n       * iOS only.\n       * The scrolling behavior, use KeyboardAccessoryView.iosScrollBehaviors.X where X is:\n       * NONE, SCROLL_TO_BOTTOM_INVERTED_ONLY or FIXED_OFFSET\n       *\n       * default: FIXED_OFFSET\n       */\n    iOSScrollBehavior: _pt.number,\n\n    /**\n       * iOS only.\n       * Show the keyboard on a negative scroll\n       *\n       * default: false\n       */\n    revealKeyboardInteractive: _pt.bool,\n\n    /**\n       * iOS only.\n       * Set to false to turn off inset management and manage it yourself\n       *\n       * default: true\n       */\n    manageScrollView: _pt.bool,\n\n    /**\n       * iOS only.\n       * Set to true manageScrollView is set to true and still does not work,\n       * it means that the ScrollView found is the wrong one and you'll have\n       * to have the KeyboardAccessoryView and the ScrollView as siblings\n       * and set this to true\n       *\n       * default: false\n       */\n    requiresSameParentToManageScrollView: _pt.bool,\n\n    /**\n       * iOS only.\n       * Add a (white) SafeArea view beneath the KeyboardAccessoryView\n       *\n       * default: false\n       */\n    addBottomView: _pt.bool,\n\n    /**\n       * iOS only.\n       * Allow hitting sub-views that are placed beyond the view bounds\n       *\n       * default: false\n       */\n    allowHitsOutsideBounds: _pt.bool,\n\n    /**\n       * iOS only.\n       * Whether or not to handle SafeArea\n       * default: true\n       */\n    useSafeArea: _pt.bool\n  };\n  static iosScrollBehaviors = IOS_SCROLL_BEHAVIORS;\n  static defaultProps = {\n    iOSScrollBehavior: -1,\n    revealKeyboardInteractive: false,\n    manageScrollView: true,\n    requiresSameParentToManageScrollView: false,\n    addBottomView: false,\n    allowHitsOutsideBounds: false\n  }; // TODO: fix\n\n  constructor(props) {\n    super(props);\n    this.onContainerComponentHeightChanged = this.onContainerComponentHeightChanged.bind(this);\n    this.processInitialProps = this.processInitialProps.bind(this);\n    this.registerForKeyboardResignedEvent = this.registerForKeyboardResignedEvent.bind(this);\n    this.registerAndroidBackHandler = this.registerAndroidBackHandler.bind(this);\n    this.onAndroidBackPressed = this.onAndroidBackPressed.bind(this);\n    this.registerForKeyboardResignedEvent();\n    this.registerAndroidBackHandler();\n  }\n\n  componentWillUnmount() {\n    if (this.customInputControllerEventsSubscriber) {\n      this.customInputControllerEventsSubscriber.remove();\n    }\n\n    if (IsAndroid) {\n      BackHandler.removeEventListener('hardwareBackPress', this.onAndroidBackPressed);\n    }\n  }\n\n  onContainerComponentHeightChanged(event) {\n    const {\n      onHeightChanged\n    } = this.props;\n\n    if (onHeightChanged) {\n      onHeightChanged(event.nativeEvent.layout.height);\n    }\n  }\n\n  onAndroidBackPressed() {\n    const {\n      kbComponent\n    } = this.props;\n\n    if (kbComponent) {\n      KeyboardUtils.dismiss();\n      return true;\n    }\n\n    return false;\n  }\n\n  getIOSTrackingScrollBehavior() {\n    const {\n      iOSScrollBehavior\n    } = this.props;\n    let scrollBehavior = iOSScrollBehavior;\n\n    if (IsIOS && scrollBehavior === -1) {\n      scrollBehavior = KeyboardAccessoryView.iosScrollBehaviors.FIXED_OFFSET;\n    }\n\n    return scrollBehavior;\n  }\n\n  async getNativeProps() {\n    if (this.trackingViewRef) {\n      return await this.trackingViewRef.getNativeProps();\n    }\n\n    return {};\n  }\n\n  registerForKeyboardResignedEvent() {\n    const {\n      onKeyboardResigned\n    } = this.props;\n    let eventEmitter = null;\n\n    if (IsIOS) {\n      if (NativeModules.CustomInputControllerTemp) {\n        eventEmitter = new NativeEventEmitter(NativeModules.CustomInputControllerTemp);\n      }\n    } else {\n      eventEmitter = DeviceEventEmitter;\n    }\n\n    if (eventEmitter !== null) {\n      this.customInputControllerEventsSubscriber = eventEmitter.addListener('kbdResigned', () => {\n        if (onKeyboardResigned) {\n          onKeyboardResigned();\n        }\n      });\n    }\n  }\n\n  registerAndroidBackHandler() {\n    if (IsAndroid) {\n      BackHandler.addEventListener('hardwareBackPress', this.onAndroidBackPressed);\n    }\n  }\n\n  processInitialProps() {\n    const {\n      kbInitialProps\n    } = this.props;\n\n    if (IsIOS && kbInitialProps && kbInitialProps.backgroundColor) {\n      const processedProps = Object.assign({}, kbInitialProps);\n      processedProps.backgroundColor = processColor(processedProps.backgroundColor);\n      return processedProps;\n    }\n\n    return kbInitialProps;\n  }\n\n  scrollToStart() {\n    if (this.trackingViewRef) {\n      this.trackingViewRef.scrollToStart();\n    }\n  }\n\n  render() {\n    const {\n      revealKeyboardInteractive,\n      manageScrollView,\n      requiresSameParentToManageScrollView,\n      addBottomView,\n      allowHitsOutsideBounds,\n      renderContent,\n      kbInputRef,\n      kbComponent,\n      onItemSelected,\n      onRequestShowKeyboard,\n      useSafeArea\n    } = this.props;\n    return <KeyboardTrackingView ref={r => this.trackingViewRef = r} style={styles.trackingToolbarContainer} // @ts-ignore\n    onLayout={this.onContainerComponentHeightChanged} scrollBehavior={this.getIOSTrackingScrollBehavior()} revealKeyboardInteractive={revealKeyboardInteractive} manageScrollView={manageScrollView} requiresSameParentToManageScrollView={requiresSameParentToManageScrollView} addBottomView={addBottomView} allowHitsOutsideBounds={allowHitsOutsideBounds}>\n        <>\n          {renderContent?.()}\n        </>\n        <CustomKeyboardView inputRef={kbInputRef} component={kbComponent} initialProps={this.processInitialProps()} onItemSelected={onItemSelected} onRequestShowKeyboard={onRequestShowKeyboard} useSafeArea={useSafeArea} />\n      </KeyboardTrackingView>;\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  trackingToolbarContainer: { ...Platform.select({\n      ios: { ...StyleSheet.absoluteFillObject,\n        top: undefined\n      }\n    })\n  }\n});\nexport default KeyboardAccessoryView;"]},"metadata":{},"sourceType":"module"}