{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"modifiers\", \"style\", \"disabled\", \"forwardedRef\", \"feedbackColor\", \"activeOpacity\", \"activeScale\"];\nimport React, { useCallback, useMemo } from 'react';\nimport Reanimated, { useAnimatedGestureHandler, useAnimatedStyle, useSharedValue, withTiming, interpolate, interpolateColor, runOnJS } from 'react-native-reanimated';\nimport { TapGestureHandler, LongPressGestureHandler } from 'react-native-gesture-handler';\nimport { asBaseComponent, forwardRef } from \"../commons/new\";\nimport View from \"../components/view\";\n\nfunction TouchableOpacity(props) {\n  var children = props.children,\n      modifiers = props.modifiers,\n      style = props.style,\n      disabled = props.disabled,\n      forwardedRef = props.forwardedRef,\n      feedbackColor = props.feedbackColor,\n      _props$activeOpacity = props.activeOpacity,\n      activeOpacity = _props$activeOpacity === void 0 ? 0.2 : _props$activeOpacity,\n      _props$activeScale = props.activeScale,\n      activeScale = _props$activeScale === void 0 ? 1 : _props$activeScale,\n      others = _objectWithoutProperties(props, _excluded);\n\n  var borderRadius = modifiers.borderRadius,\n      paddings = modifiers.paddings,\n      margins = modifiers.margins,\n      alignments = modifiers.alignments,\n      flexStyle = modifiers.flexStyle;\n  var isActive = useSharedValue(0);\n  var isLongPressed = useSharedValue(false);\n  var backgroundColor = useMemo(function () {\n    return props.backgroundColor || modifiers.backgroundColor;\n  }, [props.backgroundColor, modifiers.backgroundColor]);\n  var onPress = useCallback(function () {\n    props.onPress == null ? void 0 : props.onPress(props);\n  }, [props.onPress, props.customValue]);\n  var onLongPress = useCallback(function () {\n    props.onLongPress == null ? void 0 : props.onLongPress(props);\n  }, [props.onLongPress, props.customValue]);\n\n  var toggleActive = function () {\n    var _f = function _f(value) {\n      isActive.value = withTiming(value, {\n        duration: 200\n      });\n    };\n\n    _f._closure = {\n      isActive: isActive,\n      withTiming: withTiming\n    };\n    _f.asString = \"function _f(value){const{isActive,withTiming}=jsThis._closure;{isActive.value=withTiming(value,{duration:200});}}\";\n    _f.__workletHash = 10841591471317;\n    _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (46:23)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }();\n\n  var tapGestureHandler = useAnimatedGestureHandler({\n    onStart: function () {\n      const _f = function () {\n        toggleActive(1);\n      };\n\n      _f._closure = {\n        toggleActive\n      };\n      _f.asString = \"function onStart(){const{toggleActive}=jsThis._closure;{toggleActive(1);}}\";\n      _f.__workletHash = 15757919625556;\n      _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (55:13)\";\n\n      global.__reanimatedWorkletInit(_f);\n\n      return _f;\n    }(),\n    onEnd: function () {\n      const _f = function () {\n        toggleActive(0);\n        runOnJS(onPress)();\n      };\n\n      _f._closure = {\n        toggleActive,\n        runOnJS,\n        onPress\n      };\n      _f.asString = \"function onEnd(){const{toggleActive,runOnJS,onPress}=jsThis._closure;{toggleActive(0);runOnJS(onPress)();}}\";\n      _f.__workletHash = 12029409974145;\n      _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (58:11)\";\n\n      global.__reanimatedWorkletInit(_f);\n\n      return _f;\n    }(),\n    onFail: function () {\n      const _f = function () {\n        if (!isLongPressed.value) {\n          toggleActive(0);\n        }\n      };\n\n      _f._closure = {\n        isLongPressed,\n        toggleActive\n      };\n      _f.asString = \"function onFail(){const{isLongPressed,toggleActive}=jsThis._closure;{if(!isLongPressed.value){toggleActive(0);}}}\";\n      _f.__workletHash = 7086500874327;\n      _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (62:12)\";\n\n      global.__reanimatedWorkletInit(_f);\n\n      return _f;\n    }()\n  });\n  var longPressGestureHandler = useAnimatedGestureHandler({\n    onActive: function () {\n      const _f = function () {\n        if (!isLongPressed.value) {\n          isLongPressed.value = true;\n          runOnJS(onLongPress)();\n        }\n      };\n\n      _f._closure = {\n        isLongPressed,\n        runOnJS,\n        onLongPress\n      };\n      _f.asString = \"function onActive(){const{isLongPressed,runOnJS,onLongPress}=jsThis._closure;{if(!isLongPressed.value){isLongPressed.value=true;runOnJS(onLongPress)();}}}\";\n      _f.__workletHash = 4868178503751;\n      _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (69:14)\";\n\n      global.__reanimatedWorkletInit(_f);\n\n      return _f;\n    }(),\n    onFinish: function () {\n      const _f = function () {\n        toggleActive(0);\n        isLongPressed.value = false;\n      };\n\n      _f._closure = {\n        toggleActive,\n        isLongPressed\n      };\n      _f.asString = \"function onFinish(){const{toggleActive,isLongPressed}=jsThis._closure;{toggleActive(0);isLongPressed.value=false;}}\";\n      _f.__workletHash = 5973179918516;\n      _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (75:14)\";\n\n      global.__reanimatedWorkletInit(_f);\n\n      return _f;\n    }()\n  });\n  var animatedStyle = useAnimatedStyle(function () {\n    const _f = function () {\n      var activeColor = feedbackColor || backgroundColor;\n      var opacity = interpolate(isActive.value, [0, 1], [1, activeOpacity]);\n      var scale = interpolate(isActive.value, [0, 1], [1, activeScale]);\n      return {\n        backgroundColor: interpolateColor(isActive.value, [0, 1], [backgroundColor, activeColor]),\n        opacity: opacity,\n        transform: [{\n          scale: scale\n        }]\n      };\n    };\n\n    _f._closure = {\n      feedbackColor,\n      backgroundColor,\n      interpolate,\n      isActive,\n      activeOpacity,\n      activeScale,\n      interpolateColor\n    };\n    _f.asString = \"function _f(){const{feedbackColor,backgroundColor,interpolate,isActive,activeOpacity,activeScale,interpolateColor}=jsThis._closure;{var activeColor=feedbackColor||backgroundColor;var opacity=interpolate(isActive.value,[0,1],[1,activeOpacity]);var scale=interpolate(isActive.value,[0,1],[1,activeScale]);return{backgroundColor:interpolateColor(isActive.value,[0,1],[backgroundColor,activeColor]),opacity:opacity,transform:[{scale:scale}]};}}\";\n    _f.__workletHash = 8947616099004;\n    _f.__location = \"C:\\\\Users\\\\ruthe\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\projetos\\\\xmrwallet\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\incubator\\\\TouchableOpacity.js (80:41)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }(), [backgroundColor, feedbackColor]);\n  var Container = props.onLongPress ? LongPressGestureHandler : View;\n  return React.createElement(TapGestureHandler, {\n    onGestureEvent: tapGestureHandler,\n    shouldCancelWhenOutside: true,\n    enabled: !disabled\n  }, React.createElement(Reanimated.View, null, React.createElement(Container, {\n    onGestureEvent: longPressGestureHandler,\n    shouldCancelWhenOutside: true\n  }, React.createElement(Reanimated.View, _extends({}, others, {\n    ref: forwardedRef,\n    style: [borderRadius && {\n      borderRadius: borderRadius\n    }, flexStyle, paddings, margins, alignments, backgroundColor && {\n      backgroundColor: backgroundColor\n    }, style, animatedStyle]\n  }), children))));\n}\n\nTouchableOpacity.displayName = 'Incubator.TouchableOpacity';\nexport default asBaseComponent(forwardRef(TouchableOpacity));","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Ãrea de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/incubator/TouchableOpacity.js"],"names":["React","useCallback","useMemo","Reanimated","useAnimatedGestureHandler","useAnimatedStyle","useSharedValue","withTiming","interpolate","interpolateColor","runOnJS","TapGestureHandler","LongPressGestureHandler","asBaseComponent","forwardRef","View","TouchableOpacity","props","children","modifiers","style","disabled","forwardedRef","feedbackColor","activeOpacity","activeScale","others","borderRadius","paddings","margins","alignments","flexStyle","isActive","isLongPressed","backgroundColor","onPress","customValue","onLongPress","toggleActive","value","duration","tapGestureHandler","onStart","onEnd","onFail","longPressGestureHandler","onActive","onFinish","animatedStyle","activeColor","opacity","scale","transform","Container","displayName"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport Reanimated, { useAnimatedGestureHandler, useAnimatedStyle, useSharedValue, withTiming, interpolate, interpolateColor, runOnJS } from 'react-native-reanimated';\nimport { TapGestureHandler, LongPressGestureHandler } from 'react-native-gesture-handler';\nimport { asBaseComponent, forwardRef } from \"../commons/new\";\nimport View from \"../components/view\";\n\n/**\n * @description: a Better, enhanced TouchableOpacity component\n * @modifiers: flex, margin, padding, background\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/incubatorScreens/TouchableOpacityScreen.js\n */\nfunction TouchableOpacity(props) {\n  const {\n    children,\n    modifiers,\n    style,\n    disabled,\n    forwardedRef,\n    feedbackColor,\n    activeOpacity = 0.2,\n    activeScale = 1,\n    ...others\n  } = props;\n  const {\n    borderRadius,\n    paddings,\n    margins,\n    alignments,\n    flexStyle\n  } = modifiers;\n  const isActive = useSharedValue(0);\n  /* This flag is for fixing an issue with long press triggering twice\n  TODO: Consider revisiting this issue to see if it still occurs */\n\n  const isLongPressed = useSharedValue(false);\n  const backgroundColor = useMemo(() => {\n    return props.backgroundColor || modifiers.backgroundColor;\n  }, [props.backgroundColor, modifiers.backgroundColor]);\n  const onPress = useCallback(() => {\n    props.onPress?.(props);\n  }, [props.onPress, props.customValue]);\n  const onLongPress = useCallback(() => {\n    props.onLongPress?.(props);\n  }, [props.onLongPress, props.customValue]);\n\n  const toggleActive = value => {\n    'worklet';\n\n    isActive.value = withTiming(value, {\n      duration: 200\n    });\n  };\n\n  const tapGestureHandler = useAnimatedGestureHandler({\n    onStart: () => {\n      toggleActive(1);\n    },\n    onEnd: () => {\n      toggleActive(0);\n      runOnJS(onPress)();\n    },\n    onFail: () => {\n      if (!isLongPressed.value) {\n        toggleActive(0);\n      }\n    }\n  });\n  const longPressGestureHandler = useAnimatedGestureHandler({\n    onActive: () => {\n      if (!isLongPressed.value) {\n        isLongPressed.value = true;\n        runOnJS(onLongPress)();\n      }\n    },\n    onFinish: () => {\n      toggleActive(0);\n      isLongPressed.value = false;\n    }\n  });\n  const animatedStyle = useAnimatedStyle(() => {\n    const activeColor = feedbackColor || backgroundColor;\n    const opacity = interpolate(isActive.value, [0, 1], [1, activeOpacity]);\n    const scale = interpolate(isActive.value, [0, 1], [1, activeScale]);\n    return {\n      backgroundColor: interpolateColor(isActive.value, [0, 1], [backgroundColor, activeColor]),\n      opacity,\n      transform: [{\n        scale\n      }]\n    };\n  }, [backgroundColor, feedbackColor]);\n  const Container = props.onLongPress ? LongPressGestureHandler : View;\n  return <TapGestureHandler // @ts-expect-error\n  onGestureEvent={tapGestureHandler} shouldCancelWhenOutside enabled={!disabled}>\n      <Reanimated.View>\n        {\n        /* @ts-expect-error */\n      }\n        <Container onGestureEvent={longPressGestureHandler} shouldCancelWhenOutside>\n          <Reanimated.View {...others} ref={forwardedRef} style={[borderRadius && {\n          borderRadius\n        }, flexStyle, paddings, margins, alignments, backgroundColor && {\n          backgroundColor\n        }, style, animatedStyle]}>\n            {children}\n          </Reanimated.View>\n        </Container>\n      </Reanimated.View>\n    </TapGestureHandler>;\n}\n\nTouchableOpacity.displayName = 'Incubator.TouchableOpacity';\nexport default asBaseComponent(forwardRef(TouchableOpacity));"]},"metadata":{},"sourceType":"module"}