{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AccessibilityInfo from \"react-native-web/dist/exports/AccessibilityInfo\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { PureBaseComponent } from \"../../commons\";\nimport { Colors, Typography, BorderRadiuses } from \"../../style\";\nimport Assets from \"../../assets\";\nimport View from \"../view\";\nimport Image from \"../image\";\nimport Button from \"../button\";\nimport Text from \"../text\";\nvar AnimatedView = Animated.createAnimatedComponent(View);\nvar COLOR = Colors.white;\n\nvar Toast = function (_PureBaseComponent) {\n  _inherits(Toast, _PureBaseComponent);\n\n  var _super = _createSuper(Toast);\n\n  function Toast(props) {\n    var _this;\n\n    _classCallCheck(this, Toast);\n\n    _this = _super.call(this, props);\n\n    _this.setAnimationStatus = function (inAnimation) {\n      return _this.setState({\n        inAnimation: inAnimation\n      });\n    };\n\n    _this.onAnimationEnd = function () {\n      var visible = _this.props.visible;\n\n      if (visible) {\n        _this.setDismissTimer();\n      } else {\n        _this.setAnimationStatus(false);\n      }\n\n      _this.playAccessibilityFeatures();\n\n      _.invoke(_this.props, 'onAnimationEnd', visible);\n    };\n\n    _this.onDismiss = function (timer) {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      _.invoke(_this.props, 'onDismiss');\n    };\n\n    _this.onToastLayout = function (_ref) {\n      var height = _ref.nativeEvent.layout.height;\n\n      if (height > _this.state.toastHeight) {\n        _this.setState({\n          toastHeight: height\n        });\n      }\n    };\n\n    _this.state = {\n      toastHeight: 0,\n      inAnimation: false\n    };\n    _this.toastAnim = new Animated.Value(0);\n    return _this;\n  }\n\n  _createClass(Toast, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var visible = this.props.visible;\n\n      if (visible) {\n        this.toggleToast(visible, {\n          delay: 100\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.visible !== prevProps.visible) {\n        this.toggleToast(this.props.visible);\n      }\n    }\n  }, {\n    key: \"playAccessibilityFeatures\",\n    value: function playAccessibilityFeatures() {\n      var _this$props = this.props,\n          visible = _this$props.visible,\n          message = _this$props.message,\n          action = _this$props.action,\n          showDismiss = _this$props.showDismiss;\n\n      if (visible) {\n        if (this.viewRef && action || showDismiss) {\n          var reactTag = findNodeHandle(this.viewRef);\n          AccessibilityInfo.setAccessibilityFocus(reactTag);\n        } else {\n          AccessibilityInfo.announceForAccessibility(\"notification \" + message);\n        }\n      }\n    }\n  }, {\n    key: \"toggleToast\",\n    value: function toggleToast(show) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          delay = _ref2.delay;\n\n      Animated.timing(this.toastAnim, {\n        toValue: Number(show),\n        duration: 300,\n        delay: delay,\n        easing: Easing.bezier(0.215, 0.61, 0.355, 1),\n        useNativeDriver: true\n      }).start(this.onAnimationEnd);\n      this.setAnimationStatus(true);\n    }\n  }, {\n    key: \"generateStyles\",\n    value: function generateStyles() {\n      this.styles = createStyles(this.props);\n    }\n  }, {\n    key: \"setDismissTimer\",\n    value: function setDismissTimer() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          autoDismiss = _this$props2.autoDismiss,\n          onDismiss = _this$props2.onDismiss;\n\n      if (autoDismiss && onDismiss) {\n        var timer = setTimeout(function () {\n          _this2.onDismiss(timer);\n        }, autoDismiss);\n      }\n    }\n  }, {\n    key: \"getAbsolutePositionStyle\",\n    value: function getAbsolutePositionStyle(location) {\n      return _defineProperty({\n        position: 'absolute',\n        left: 0,\n        right: 0\n      }, location, 0);\n    }\n  }, {\n    key: \"renderMessage\",\n    value: function renderMessage() {\n      var _this3 = this;\n\n      var _this$getThemeProps = this.getThemeProps(),\n          message = _this$getThemeProps.message,\n          centerMessage = _this$getThemeProps.centerMessage,\n          color = _this$getThemeProps.color;\n\n      var textColor = color || COLOR;\n      var textAlign = centerMessage ? 'center' : 'left';\n      return React.createElement(Text, {\n        ref: function ref(r) {\n          return _this3.viewRef = r;\n        },\n        style: [this.styles.message, {\n          color: textColor,\n          textAlign: textAlign\n        }],\n        accessibilityLabel: \"notification \" + message\n      }, message);\n    }\n  }, {\n    key: \"renderAction\",\n    value: function renderAction() {\n      var _this$props3 = this.props,\n          showLoader = _this$props3.showLoader,\n          showDismiss = _this$props3.showDismiss,\n          action = _this$props3.action,\n          color = _this$props3.color,\n          backgroundColor = _this$props3.backgroundColor,\n          customLoader = _this$props3.customLoader;\n      var textColor = color || COLOR;\n\n      if (showLoader && !showDismiss) {\n        if (customLoader) {\n          return React.createElement(View, {\n            center: true,\n            \"marginR-20\": true\n          }, customLoader());\n        }\n\n        return React.createElement(ActivityIndicator, {\n          size: 'small',\n          animating: true,\n          color: Colors.white,\n          style: {\n            marginRight: 20\n          }\n        });\n      }\n\n      if (showDismiss) {\n        return React.createElement(Button, {\n          link: true,\n          iconStyle: {\n            tintColor: textColor\n          },\n          iconSource: Assets.icons.x,\n          onPress: this.onDismiss,\n          \"paddingR-20\": true,\n          accessibilityLabel: 'dismiss',\n          accessibilityRole: 'button'\n        });\n      }\n\n      if (action) {\n        var actionBg = backgroundColor || Colors.rgba(Colors.primary, 0);\n        return React.createElement(Button, _extends({\n          style: this.styles.action,\n          backgroundColor: actionBg,\n          color: textColor\n        }, action, {\n          labelStyle: Typography.text70BO,\n          accessibilityRole: 'button'\n        }));\n      }\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon() {\n      var _this$props4 = this.props,\n          icon = _this$props4.icon,\n          color = _this$props4.color;\n      var tintColor = color || COLOR;\n\n      if (icon) {\n        return React.createElement(Image, {\n          source: icon,\n          resizeMode: 'contain',\n          style: this.styles.icon,\n          tintColor: tintColor\n        });\n      }\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this$getThemeProps2 = this.getThemeProps(),\n          children = _this$getThemeProps2.children;\n\n      if (!_.isUndefined(children)) {\n        return children;\n      }\n\n      return React.createElement(View, {\n        row: true\n      }, React.createElement(View, {\n        flex: true,\n        style: this.styles.toastContent\n      }, this.renderIcon(), this.renderMessage()), this.renderAction());\n    }\n  }, {\n    key: \"renderAttachmentContent\",\n    value: function renderAttachmentContent() {\n      var renderAttachment = this.props.renderAttachment;\n\n      if (renderAttachment) {\n        return React.createElement(View, {\n          pointerEvents: 'box-none'\n        }, renderAttachment());\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          toastHeight = _this$state.toastHeight,\n          inAnimation = _this$state.inAnimation;\n\n      var _this$getThemeProps3 = this.getThemeProps(),\n          visible = _this$getThemeProps3.visible,\n          backgroundColor = _this$getThemeProps3.backgroundColor,\n          position = _this$getThemeProps3.position,\n          zIndex = _this$getThemeProps3.zIndex,\n          style = _this$getThemeProps3.style,\n          renderAttachment = _this$getThemeProps3.renderAttachment,\n          testID = _this$getThemeProps3.testID;\n\n      var positionStyle = this.getAbsolutePositionStyle(position);\n\n      if (!visible && !inAnimation) {\n        if (renderAttachment) {\n          return React.createElement(View, {\n            style: [positionStyle, {\n              zIndex: zIndex\n            }],\n            pointerEvents: 'box-none'\n          }, this.renderAttachmentContent());\n        }\n\n        return null;\n      }\n\n      var bg = backgroundColor || Colors.primary;\n      var isTop = position === 'top';\n      var positionMultiplier = isTop ? -1 : 1;\n      var translateY = this.toastAnim.interpolate({\n        inputRange: [0, 1],\n        outputRange: [positionMultiplier * (toastHeight || 500), 0]\n      });\n      var opacity = this.toastAnim.interpolate({\n        inputRange: [0, 0.01, 1],\n        outputRange: [0, 1, 1]\n      });\n      return React.createElement(AnimatedView, {\n        testID: testID,\n        style: [positionStyle, {\n          zIndex: zIndex,\n          transform: [{\n            translateY: translateY\n          }]\n        }],\n        pointerEvents: 'box-none'\n      }, !isTop && !!toastHeight && this.renderAttachmentContent(), React.createElement(AnimatedView, {\n        useSafeArea: true,\n        style: [{\n          backgroundColor: bg,\n          opacity: opacity\n        }, style],\n        onLayout: this.onToastLayout,\n        pointerEvents: visible ? 'auto' : 'none'\n      }, this.renderContent()), isTop && !!toastHeight && this.renderAttachmentContent());\n    }\n  }]);\n\n  return Toast;\n}(PureBaseComponent);\n\nToast.displayName = 'Toast';\nToast.propTypes = {\n  visible: PropTypes.bool,\n  position: PropTypes.oneOf(['top', 'bottom']),\n  zIndex: PropTypes.number,\n  backgroundColor: PropTypes.string,\n  color: PropTypes.string,\n  message: PropTypes.string,\n  centerMessage: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n  action: PropTypes.shape(Button.propTypes),\n  showLoader: PropTypes.bool,\n  onDismiss: PropTypes.func,\n  autoDismiss: PropTypes.number,\n  showDismiss: PropTypes.bool,\n  onAnimationEnd: PropTypes.func,\n  renderAttachment: PropTypes.elementType,\n  customLoader: PropTypes.func\n};\nToast.defaultProps = {\n  position: 'top',\n  zIndex: 100\n};\nexport { Toast as default };\n\nfunction createStyles() {\n  return StyleSheet.create({\n    toastContent: {\n      minHeight: 48,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingHorizontal: 20,\n      paddingVertical: 12\n    },\n    message: _objectSpread({\n      flex: 1\n    }, Typography.text70),\n    icon: {\n      width: 24,\n      height: 24,\n      marginRight: 16\n    },\n    action: {\n      borderRadius: BorderRadiuses.br0,\n      minWidth: undefined,\n      paddingRight: 20\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Área de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/components/toast/index.js"],"names":["_","PropTypes","React","PureBaseComponent","Colors","Typography","BorderRadiuses","Assets","View","Image","Button","Text","AnimatedView","Animated","createAnimatedComponent","COLOR","white","Toast","props","setAnimationStatus","inAnimation","setState","onAnimationEnd","visible","setDismissTimer","playAccessibilityFeatures","invoke","onDismiss","timer","clearTimeout","onToastLayout","height","nativeEvent","layout","state","toastHeight","toastAnim","Value","toggleToast","delay","prevProps","message","action","showDismiss","viewRef","reactTag","findNodeHandle","AccessibilityInfo","setAccessibilityFocus","announceForAccessibility","show","timing","toValue","Number","duration","easing","Easing","bezier","useNativeDriver","start","styles","createStyles","autoDismiss","setTimeout","location","position","left","right","getThemeProps","centerMessage","color","textColor","textAlign","r","showLoader","backgroundColor","customLoader","marginRight","tintColor","icons","x","actionBg","rgba","primary","text70BO","icon","children","isUndefined","toastContent","renderIcon","renderMessage","renderAction","renderAttachment","zIndex","style","testID","positionStyle","getAbsolutePositionStyle","renderAttachmentContent","bg","isTop","positionMultiplier","translateY","interpolate","inputRange","outputRange","opacity","transform","renderContent","displayName","propTypes","bool","oneOf","number","string","oneOfType","object","shape","func","elementType","defaultProps","StyleSheet","create","minHeight","flexDirection","justifyContent","alignItems","paddingHorizontal","paddingVertical","flex","text70","width","borderRadius","br0","minWidth","undefined","paddingRight"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {AccessibilityInfo, findNodeHandle, StyleSheet, Animated, Easing, ActivityIndicator} from 'react-native';\nimport {PureBaseComponent} from '../../commons';\nimport {Colors, Typography, BorderRadiuses} from '../../style';\nimport Assets from '../../assets';\nimport View from '../view';\nimport Image from '../image';\nimport Button from '../button';\nimport Text from '../text';\n\n\n// Create animated view base on uilib view for the safeArea support\nconst AnimatedView = Animated.createAnimatedComponent(View);\nconst COLOR = Colors.white;\n\n/**\n * @description: A toast component\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ToastsScreen.js\n * @gif: https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/Toast/Toast.gif?raw=true, https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/Toast/ToastAttachment.gif?raw=true\n */\nexport default class Toast extends PureBaseComponent {\n  static displayName = 'Toast';\n\n  static propTypes = {\n    /**\n     * Whether to show or hide the toast\n     */\n    visible: PropTypes.bool,\n    /**\n     * The position of the toast. 'top' or 'bottom'.\n     */\n    position: PropTypes.oneOf(['top', 'bottom']),\n    /**\n     * custom zIndex for toast\n     */\n    zIndex: PropTypes.number,\n    /**\n     * The background color of the toast\n     */\n    backgroundColor: PropTypes.string,\n    /**\n     * the toast content color (message, actions labels)\n     */\n    color: PropTypes.string,\n    /**\n     * the toast message\n     */\n    message: PropTypes.string,\n    /**\n     * should message be centered in the toast\n     */\n    centerMessage: PropTypes.bool,\n    /**\n     * a left icon\n     */\n    icon: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * a single action for the user\n     */\n    action: PropTypes.shape(Button.propTypes),\n    /**\n     * should show a loader (showDismiss must be false)\n     */\n    showLoader: PropTypes.bool,\n    /**\n     * callback for dismiss action\n     */\n    onDismiss: PropTypes.func,\n    /**\n     * number of milliseconds to automatically invoke the onDismiss callback\n     */\n    autoDismiss: PropTypes.number,\n    /**\n     * show dismiss action (right 'X' button)\n     */\n    showDismiss: PropTypes.bool,\n    /**\n     * callback for end of component animation\n     */\n    onAnimationEnd: PropTypes.func,\n    /**\n     * render a custom view that will appear permanently above or below a Toast,\n     * depends on the Toast's position, and animate with it when the Toast is made visible or dismissed\n     */\n    renderAttachment: PropTypes.elementType,\n    /**\n     * render a custom loader component instead of the default when passing showLoader\n     */\n    customLoader: PropTypes.func\n  };\n\n  static defaultProps = {\n    position: 'top',\n    zIndex: 100\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toastHeight: 0,\n      inAnimation: false\n    };\n\n    this.toastAnim = new Animated.Value(0);\n  }\n\n  componentDidMount() {\n    const {visible} = this.props;\n\n    if (visible) {\n      this.toggleToast(visible, {delay: 100});\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.visible !== prevProps.visible) {\n      this.toggleToast(this.props.visible);\n    }\n  }\n\n  playAccessibilityFeatures() {\n    const {visible, message, action, showDismiss} = this.props;\n\n    if (visible) {\n      if ((this.viewRef && action) || showDismiss) {\n        const reactTag = findNodeHandle(this.viewRef);\n        AccessibilityInfo.setAccessibilityFocus(reactTag);\n      } else {\n        AccessibilityInfo.announceForAccessibility(`notification ${message}`);\n      }\n    }\n  }\n\n  setAnimationStatus = inAnimation => this.setState({inAnimation});\n\n  toggleToast(show, {delay} = {}) {\n    Animated.timing(this.toastAnim, {\n      toValue: Number(show),\n      duration: 300,\n      delay,\n      easing: Easing.bezier(0.215, 0.61, 0.355, 1),\n      useNativeDriver: true\n    }).start(this.onAnimationEnd);\n\n    this.setAnimationStatus(true);\n  }\n\n  generateStyles() {\n    this.styles = createStyles(this.props);\n  }\n\n  onAnimationEnd = () => {\n    const {visible} = this.props;\n\n    if (visible) {\n      this.setDismissTimer();\n    } else {\n      this.setAnimationStatus(false);\n    }\n\n    this.playAccessibilityFeatures();\n    _.invoke(this.props, 'onAnimationEnd', visible);\n  };\n\n  setDismissTimer() {\n    const {autoDismiss, onDismiss} = this.props;\n\n    if (autoDismiss && onDismiss) {\n      const timer = setTimeout(() => {\n        this.onDismiss(timer);\n      }, autoDismiss);\n    }\n  }\n\n  onDismiss = timer => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    _.invoke(this.props, 'onDismiss');\n  };\n\n  getAbsolutePositionStyle(location) {\n    return {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      [location]: 0\n    };\n  }\n\n  onToastLayout = ({\n    nativeEvent: {\n      layout: {height}\n    }\n  }) => {\n    if (height > this.state.toastHeight) {\n      this.setState({\n        toastHeight: height\n      });\n    }\n  };\n\n  renderMessage() {\n    const {message, centerMessage, color} = this.getThemeProps();\n    const textColor = color || COLOR;\n    const textAlign = centerMessage ? 'center' : 'left';\n\n    return (\n      <Text\n        ref={r => (this.viewRef = r)}\n        style={[this.styles.message, {color: textColor, textAlign}]}\n        accessibilityLabel={`notification ${message}`}\n      >\n        {message}\n      </Text>\n    );\n  }\n\n  renderAction() {\n    const {showLoader, showDismiss, action, color, backgroundColor, customLoader} = this.props;\n    const textColor = color || COLOR;\n\n    // NOTE: order does matter\n    if (showLoader && !showDismiss) {\n      if (customLoader) {\n        return (\n          <View center marginR-20>\n            {customLoader()}\n          </View>\n        );\n      }\n\n      return <ActivityIndicator size={'small'} animating color={Colors.white} style={{marginRight: 20}}/>;\n    }\n\n    if (showDismiss) {\n      return (\n        <Button\n          link\n          iconStyle={{tintColor: textColor}}\n          iconSource={Assets.icons.x}\n          onPress={this.onDismiss}\n          paddingR-20\n          accessibilityLabel={'dismiss'}\n          accessibilityRole={'button'}\n        />\n      );\n    }\n\n    if (action) {\n      const actionBg = backgroundColor || Colors.rgba(Colors.primary, 0);\n\n      return (\n        <Button\n          style={this.styles.action}\n          backgroundColor={actionBg}\n          color={textColor}\n          {...action}\n          labelStyle={Typography.text70BO}\n          accessibilityRole={'button'}\n        />\n      );\n    }\n  }\n\n  renderIcon() {\n    const {icon, color} = this.props;\n    const tintColor = color || COLOR;\n\n    if (icon) {\n      return <Image source={icon} resizeMode={'contain'} style={this.styles.icon} tintColor={tintColor}/>;\n    }\n  }\n\n  renderContent() {\n    const {children} = this.getThemeProps();\n\n    if (!_.isUndefined(children)) {\n      return children;\n    }\n\n    return (\n      <View row>\n        <View flex style={this.styles.toastContent}>\n          {this.renderIcon()}\n          {this.renderMessage()}\n        </View>\n        {this.renderAction()}\n      </View>\n    );\n  }\n\n  renderAttachmentContent() {\n    const {renderAttachment} = this.props;\n\n    if (renderAttachment) {\n      return <View pointerEvents={'box-none'}>{renderAttachment()}</View>;\n    }\n  }\n\n  render() {\n    const {toastHeight, inAnimation} = this.state;\n    const {visible, backgroundColor, position, zIndex, style, renderAttachment, testID} = this.getThemeProps();\n    const positionStyle = this.getAbsolutePositionStyle(position);\n\n    if (!visible && !inAnimation) {\n      if (renderAttachment) {\n        return (\n          <View style={[positionStyle, {zIndex}]} pointerEvents={'box-none'}>\n            {this.renderAttachmentContent()}\n          </View>\n        );\n      }\n      return null;\n    }\n\n    const bg = backgroundColor || Colors.primary;\n    const isTop = position === 'top';\n    const positionMultiplier = isTop ? -1 : 1;\n    const translateY = this.toastAnim.interpolate({\n      inputRange: [0, 1],\n      outputRange: [positionMultiplier * (toastHeight || 500), 0]\n    });\n    const opacity = this.toastAnim.interpolate({\n      inputRange: [0, 0.01, 1],\n      outputRange: [0, 1, 1]\n    });\n\n    return (\n      <AnimatedView\n        testID={testID}\n        style={[positionStyle, {zIndex, transform: [{translateY}]}]}\n        pointerEvents={'box-none'}\n      >\n        {!isTop && !!toastHeight && this.renderAttachmentContent()}\n        <AnimatedView\n          useSafeArea\n          style={[{backgroundColor: bg, opacity}, style]}\n          onLayout={this.onToastLayout}\n          pointerEvents={visible ? 'auto' : 'none'}\n        >\n          {this.renderContent()}\n        </AnimatedView>\n        {isTop && !!toastHeight && this.renderAttachmentContent()}\n      </AnimatedView>\n    );\n  }\n}\n\nfunction createStyles() {\n  return StyleSheet.create({\n    toastContent: {\n      minHeight: 48,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingHorizontal: 20,\n      paddingVertical: 12\n    },\n    message: {\n      flex: 1,\n      ...Typography.text70\n    },\n    icon: {\n      width: 24,\n      height: 24,\n      marginRight: 16\n    },\n    action: {\n      borderRadius: BorderRadiuses.br0,\n      minWidth: undefined,\n      paddingRight: 20\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}