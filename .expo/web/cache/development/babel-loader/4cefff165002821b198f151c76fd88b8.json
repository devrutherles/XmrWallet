{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { DateTimePickerPackage as RNDateTimePicker } from \"../../optionalDependencies\";\nimport { Constants } from \"../../helpers\";\nimport { Colors } from \"../../style\";\nimport Assets from \"../../assets\";\nimport { asBaseComponent } from \"../../commons\";\nimport { TextField } from \"../inputs\";\nimport Dialog from \"../dialog\";\nimport View from \"../view\";\nimport Button from \"../button\";\nvar MODES = {\n  DATE: 'date',\n  TIME: 'time'\n};\nvar THEME_VARIANTS = {\n  LIGHT: 'light',\n  DARK: 'dark'\n};\n\nvar DateTimePicker = function (_Component) {\n  _inherits(DateTimePicker, _Component);\n\n  var _super = _createSuper(DateTimePicker);\n\n  function DateTimePicker(props) {\n    var _this;\n\n    _classCallCheck(this, DateTimePicker);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function () {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var date = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (event.type !== 'dismissed' && date !== undefined) {\n        _this.chosenDate = date;\n\n        if (Constants.isAndroid) {\n          _this.onDonePressed();\n        }\n      } else if (event.type === 'dismissed' && Constants.isAndroid) {\n        _this.toggleExpandableOverlay();\n      }\n    };\n\n    _this.toggleExpandableOverlay = function (callback) {\n      _this.setState({\n        showExpandableOverlay: !_this.state.showExpandableOverlay\n      }, function () {\n        if (_.isFunction(callback)) {\n          callback();\n        }\n      });\n    };\n\n    _this.onToggleExpandableModal = function (value) {\n      _this.toggleExpandableOverlay();\n\n      _.invoke(_this.props, 'onToggleExpandableModal', value);\n    };\n\n    _this.onDonePressed = function () {\n      return _this.toggleExpandableOverlay(function () {\n        if (Constants.isIOS && !_this.chosenDate) {\n          _this.chosenDate = new Date();\n        }\n\n        _.invoke(_this.props, 'onChange', _this.chosenDate);\n\n        _this.setState({\n          value: _this.chosenDate\n        });\n      });\n    };\n\n    _this.getStringValue = function () {\n      var value = _this.state.value;\n      var _this$props = _this.props,\n          mode = _this$props.mode,\n          dateFormat = _this$props.dateFormat,\n          timeFormat = _this$props.timeFormat,\n          dateFormatter = _this$props.dateFormatter,\n          timeFormatter = _this$props.timeFormatter;\n\n      if (value) {\n        switch (mode) {\n          case MODES.DATE:\n            return dateFormatter ? dateFormatter(value) : dateFormat ? moment(value).format(dateFormat) : value.toLocaleDateString();\n\n          case MODES.TIME:\n            return timeFormatter ? timeFormatter(value) : timeFormat ? moment(value).format(timeFormat) : value.toLocaleTimeString();\n        }\n      }\n    };\n\n    _this.renderExpandableOverlay = function () {\n      var _this$props2 = _this.props,\n          testID = _this$props2.testID,\n          dialogProps = _this$props2.dialogProps;\n      var showExpandableOverlay = _this.state.showExpandableOverlay;\n      return React.createElement(Dialog, _extends({\n        visible: showExpandableOverlay,\n        width: \"100%\",\n        height: null,\n        bottom: true,\n        centerH: true,\n        onDismiss: _this.toggleExpandableOverlay,\n        containerStyle: styles.dialog,\n        testID: testID + \".dialog\",\n        supportedOrientations: ['portrait', 'landscape', 'landscape-left', 'landscape-right']\n      }, dialogProps), React.createElement(View, null, _this.renderHeader(), _this.renderDateTimePicker()));\n    };\n\n    _this.renderExpandable = function () {\n      return Constants.isAndroid ? _this.renderDateTimePicker() : _this.renderExpandableOverlay();\n    };\n\n    _this.chosenDate = props.value;\n    _this.state = {\n      showExpandableOverlay: false,\n      prevValue: props.value,\n      value: props.value\n    };\n\n    if (!RNDateTimePicker) {\n      console.error(\"RNUILib DateTimePicker component requires installing \\\"@react-native-community/datetimepicker\\\" dependency\");\n    }\n\n    return _this;\n  }\n\n  _createClass(DateTimePicker, [{\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var _this$props3 = this.props,\n          useCustomTheme = _this$props3.useCustomTheme,\n          headerStyle = _this$props3.headerStyle;\n      return React.createElement(View, {\n        row: true,\n        spread: true,\n        \"bg-white\": true,\n        \"paddingH-20\": true,\n        style: [styles.header, headerStyle]\n      }, React.createElement(Button, {\n        link: true,\n        iconSource: Assets.icons.x,\n        iconStyle: {\n          tintColor: Colors.grey10\n        },\n        onPress: this.toggleExpandableOverlay\n      }), React.createElement(Button, {\n        link: true,\n        iconSource: Assets.icons.check,\n        useCustomTheme: useCustomTheme,\n        onPress: this.onDonePressed\n      }));\n    }\n  }, {\n    key: \"renderDateTimePicker\",\n    value: function renderDateTimePicker() {\n      if (!RNDateTimePicker) {\n        return null;\n      }\n\n      var _this$state = this.state,\n          value = _this$state.value,\n          showExpandableOverlay = _this$state.showExpandableOverlay;\n      var _this$props4 = this.props,\n          mode = _this$props4.mode,\n          minimumDate = _this$props4.minimumDate,\n          maximumDate = _this$props4.maximumDate,\n          locale = _this$props4.locale,\n          is24Hour = _this$props4.is24Hour,\n          minuteInterval = _this$props4.minuteInterval,\n          timeZoneOffsetInMinutes = _this$props4.timeZoneOffsetInMinutes,\n          themeVariant = _this$props4.themeVariant;\n\n      if (showExpandableOverlay) {\n        return React.createElement(RNDateTimePicker, {\n          mode: mode,\n          value: value || new Date(),\n          onChange: this.handleChange,\n          minimumDate: minimumDate,\n          maximumDate: maximumDate,\n          locale: locale,\n          is24Hour: is24Hour,\n          minuteInterval: minuteInterval,\n          timeZoneOffsetInMinutes: timeZoneOffsetInMinutes,\n          display: Constants.isIOS ? 'spinner' : undefined,\n          themeVariant: themeVariant\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var textInputProps = TextField.extractOwnProps(this.props);\n      var renderInput = this.props.renderInput;\n      return React.createElement(TextField, _extends({\n        renderExpandableInput: renderInput\n      }, textInputProps, {\n        value: this.getStringValue(),\n        expandable: true,\n        renderExpandable: this.renderExpandable,\n        onToggleExpandableModal: this.onToggleExpandableModal\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.value !== prevState.prevValue) {\n        return {\n          prevValue: prevState.value,\n          value: nextProps.value\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return DateTimePicker;\n}(Component);\n\nDateTimePicker.displayName = 'DateTimePicker';\nDateTimePicker.propTypes = _objectSpread(_objectSpread({}, TextField.propTypes), {}, {\n  mode: PropTypes.oneOf(Object.values(MODES)),\n  value: PropTypes.instanceOf(Date),\n  onChange: PropTypes.func,\n  minimumDate: PropTypes.instanceOf(Date),\n  maximumDate: PropTypes.instanceOf(Date),\n  dateFormat: PropTypes.string,\n  dateFormatter: PropTypes.func,\n  timeFormat: PropTypes.string,\n  timeFormatter: PropTypes.func,\n  locale: PropTypes.string,\n  is24Hour: PropTypes.bool,\n  minuteInterval: PropTypes.number,\n  timeZoneOffsetInMinutes: PropTypes.number,\n  dialogProps: PropTypes.object,\n  headerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n  renderInput: PropTypes.elementType,\n  themeVariant: PropTypes.oneOf(Object.values(THEME_VARIANTS))\n});\nDateTimePicker.defaultProps = _objectSpread(_objectSpread({}, TextField.defaultProps), {}, {\n  mode: MODES.DATE\n});\nexport { DateTimePicker };\nexport default asBaseComponent(DateTimePicker);\nvar styles = StyleSheet.create({\n  header: {\n    height: 56,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.grey80\n  },\n  dialog: {\n    backgroundColor: Colors.white,\n    borderTopLeftRadius: 12,\n    borderTopRightRadius: 12\n  }\n});","map":{"version":3,"sources":["C:/Users/ruthe/OneDrive/Área de Trabalho/projetos/xmrwallet/node_modules/react-native-ui-lib/src/components/dateTimePicker/index.js"],"names":["_","PropTypes","moment","React","Component","DateTimePickerPackage","RNDateTimePicker","Constants","Colors","Assets","asBaseComponent","TextField","Dialog","View","Button","MODES","DATE","TIME","THEME_VARIANTS","LIGHT","DARK","DateTimePicker","props","handleChange","event","date","type","undefined","chosenDate","isAndroid","onDonePressed","toggleExpandableOverlay","callback","setState","showExpandableOverlay","state","isFunction","onToggleExpandableModal","value","invoke","isIOS","Date","getStringValue","mode","dateFormat","timeFormat","dateFormatter","timeFormatter","format","toLocaleDateString","toLocaleTimeString","renderExpandableOverlay","testID","dialogProps","styles","dialog","renderHeader","renderDateTimePicker","renderExpandable","prevValue","console","error","useCustomTheme","headerStyle","header","icons","x","tintColor","grey10","check","minimumDate","maximumDate","locale","is24Hour","minuteInterval","timeZoneOffsetInMinutes","themeVariant","textInputProps","extractOwnProps","renderInput","nextProps","prevState","displayName","propTypes","oneOf","Object","values","instanceOf","onChange","func","string","bool","number","object","oneOfType","elementType","defaultProps","StyleSheet","create","height","borderBottomWidth","borderBottomColor","grey80","backgroundColor","white","borderTopLeftRadius","borderTopRightRadius"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport React, {Component} from 'react';\nimport {StyleSheet} from 'react-native';\nimport {DateTimePickerPackage as RNDateTimePicker} from '../../optionalDependencies';\nimport {Constants} from '../../helpers';\nimport {Colors} from '../../style';\nimport Assets from '../../assets';\nimport {asBaseComponent} from '../../commons';\nimport {TextField} from '../inputs';\nimport Dialog from '../dialog';\nimport View from '../view';\nimport Button from '../button';\n\n\nconst MODES = {\n  DATE: 'date',\n  TIME: 'time'\n};\n\n\nconst THEME_VARIANTS = {\n  LIGHT: 'light',\n  DARK: 'dark'\n};\n\n\n/*eslint-disable*/\n/**\n * @description: Date and Time Picker Component that wraps RNDateTimePicker for date and time modes.\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/DateTimePickerScreen.js\n * @important: DateTimePicker uses a native library. You MUST add and link the native library to both iOS and Android projects.\n * @extends: TextField, react-native-community/datetimepicker\n * @extendsLink: https://github.com/react-native-community/react-native-datetimepicker#react-native-datetimepicker\n * @gif: https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/DateTimePicker/DateTimePicker_iOS.gif?raw=true, https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/DateTimePicker/DateTimePicker_Android.gif?raw=true\n */\n/*eslint-enable*/\n\nclass DateTimePicker extends Component {\n  static displayName = 'DateTimePicker';\n\n  static propTypes = {\n    ...TextField.propTypes,\n    /**\n     * The type of picker to display ('date' or 'time')\n     */\n    mode: PropTypes.oneOf(Object.values(MODES)),\n    /**\n     * The initial value to set the picker to. Defaults to device's date / time\n     */\n    value: PropTypes.instanceOf(Date),\n    /**\n     * The onChange callback\n     */\n    onChange: PropTypes.func,\n    /**\n     * The minimum date or time value to use\n     */\n    minimumDate: PropTypes.instanceOf(Date),\n    /**\n     * The maximum date or time value to use\n     */\n    maximumDate: PropTypes.instanceOf(Date),\n    /**\n     * The date format for the text display\n     */\n    dateFormat: PropTypes.string,\n    /**\n     * A callback function to format date\n     */\n    dateFormatter: PropTypes.func,\n    /**\n     * The time format for the text display\n     */\n    timeFormat: PropTypes.string,\n    /**\n     * A callback function to format time\n     */\n    timeFormatter: PropTypes.func,\n    /**\n     * Allows changing of the locale of the component (iOS only)\n     */\n    locale: PropTypes.string,\n    /**\n     * Allows changing of the time picker to a 24 hour format (Android only)\n     */\n    is24Hour: PropTypes.bool,\n    /**\n     * The interval at which minutes can be selected. Possible values are: 1, 2, 3, 4, 5, 6, 10, 12, 15, 20, 30 (iOS only)\n     */\n    minuteInterval: PropTypes.number,\n    /**\n     * Allows changing of the timeZone of the date picker. By default it uses the device's time zone (iOS only)\n     */\n    timeZoneOffsetInMinutes: PropTypes.number,\n    /**\n     * Props to pass the Dialog component\n     */\n    dialogProps: PropTypes.object,\n    /**\n     * style to apply to the iOS dialog header\n     */\n    headerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * Render custom input\n     */\n    renderInput: PropTypes.elementType,\n    /**\n     * Override system theme variant (dark or light mode) used by the date picker.\n     */\n    themeVariant: PropTypes.oneOf(Object.values(THEME_VARIANTS))\n  };\n\n  static defaultProps = {\n    ...TextField.defaultProps,\n    mode: MODES.DATE\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.chosenDate = props.value;\n\n    this.state = {\n      showExpandableOverlay: false,\n      prevValue: props.value,\n      value: props.value\n    };\n\n    if (!RNDateTimePicker) {\n      console.error(`RNUILib DateTimePicker component requires installing \"@react-native-community/datetimepicker\" dependency`);\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.value !== prevState.prevValue) {\n      return {\n        prevValue: prevState.value,\n        value: nextProps.value\n      };\n    }\n    return null;\n  }\n\n  handleChange = (event = {}, date) => {\n    // NOTE: will be called on Android even when there was no actual change\n    if (event.type !== 'dismissed' && date !== undefined) {\n      this.chosenDate = date;\n\n      if (Constants.isAndroid) {\n        this.onDonePressed();\n      }\n    } else if (event.type === 'dismissed' && Constants.isAndroid) {\n      this.toggleExpandableOverlay();\n    }\n  };\n\n  toggleExpandableOverlay = callback => {\n    this.setState({showExpandableOverlay: !this.state.showExpandableOverlay}, () => {\n      if (_.isFunction(callback)) {\n        callback();\n      }\n    });\n  };\n\n  onToggleExpandableModal = value => {\n    this.toggleExpandableOverlay();\n    _.invoke(this.props, 'onToggleExpandableModal', value);\n  };\n\n  onDonePressed = () =>\n    this.toggleExpandableOverlay(() => {\n      if (Constants.isIOS && !this.chosenDate) {\n        // since handleChange() is not called on iOS when there is no actual change\n        this.chosenDate = new Date();\n      }\n\n      _.invoke(this.props, 'onChange', this.chosenDate);\n      this.setState({value: this.chosenDate});\n    });\n\n  getStringValue = () => {\n    const {value} = this.state;\n    const {mode, dateFormat, timeFormat, dateFormatter, timeFormatter} = this.props;\n    if (value) {\n      switch (mode) {\n        case MODES.DATE:\n          return dateFormatter\n            ? dateFormatter(value)\n            : dateFormat\n              ? moment(value).format(dateFormat)\n              : value.toLocaleDateString();\n        case MODES.TIME:\n          return timeFormatter\n            ? timeFormatter(value)\n            : timeFormat\n              ? moment(value).format(timeFormat)\n              : value.toLocaleTimeString();\n      }\n    }\n  };\n\n  renderExpandableOverlay = () => {\n    const {testID, dialogProps} = this.props;\n    const {showExpandableOverlay} = this.state;\n\n    return (\n      <Dialog\n        visible={showExpandableOverlay}\n        width=\"100%\"\n        height={null}\n        bottom\n        centerH\n        onDismiss={this.toggleExpandableOverlay}\n        containerStyle={styles.dialog}\n        testID={`${testID}.dialog`}\n        supportedOrientations={['portrait', 'landscape', 'landscape-left', 'landscape-right']} // iOS only\n        {...dialogProps}\n      >\n        <View /* useSafeArea */>\n          {this.renderHeader()}\n          {this.renderDateTimePicker()}\n        </View>\n      </Dialog>\n    );\n  };\n\n  renderHeader() {\n    const {useCustomTheme, headerStyle} = this.props;\n\n    return (\n      <View row spread bg-white paddingH-20 style={[styles.header, headerStyle]}>\n        <Button\n          link\n          iconSource={Assets.icons.x}\n          iconStyle={{tintColor: Colors.grey10}}\n          onPress={this.toggleExpandableOverlay}\n        />\n        <Button link iconSource={Assets.icons.check} useCustomTheme={useCustomTheme} onPress={this.onDonePressed}/>\n      </View>\n    );\n  }\n\n  renderDateTimePicker() {\n    if (!RNDateTimePicker) {\n      return null;\n    }\n\n    const {value, showExpandableOverlay} = this.state;\n    const {mode, minimumDate, maximumDate, locale, is24Hour, minuteInterval, timeZoneOffsetInMinutes, themeVariant} = this.props;\n\n    if (showExpandableOverlay) {\n      return (\n        <RNDateTimePicker\n          mode={mode}\n          value={value || new Date()}\n          onChange={this.handleChange}\n          minimumDate={minimumDate}\n          maximumDate={maximumDate}\n          locale={locale}\n          is24Hour={is24Hour}\n          minuteInterval={minuteInterval}\n          timeZoneOffsetInMinutes={timeZoneOffsetInMinutes}\n          display={Constants.isIOS ? 'spinner' : undefined}\n          themeVariant={themeVariant}\n        />\n      );\n    }\n  }\n\n  renderExpandable = () => {\n    return Constants.isAndroid ? this.renderDateTimePicker() : this.renderExpandableOverlay();\n  };\n\n  render() {\n    const textInputProps = TextField.extractOwnProps(this.props);\n    const {renderInput} = this.props;\n\n    return (\n      <TextField\n        renderExpandableInput={renderInput}\n        {...textInputProps}\n        value={this.getStringValue()}\n        expandable\n        renderExpandable={this.renderExpandable}\n        onToggleExpandableModal={this.onToggleExpandableModal}\n      />\n    );\n  }\n}\n\nexport {DateTimePicker}; // For tests\nexport default asBaseComponent(DateTimePicker);\n\n\nconst styles = StyleSheet.create({\n  header: {\n    height: 56,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.grey80\n  },\n  dialog: {\n    backgroundColor: Colors.white,\n    borderTopLeftRadius: 12,\n    borderTopRightRadius: 12\n  }\n});\n"]},"metadata":{},"sourceType":"module"}